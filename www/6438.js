"use strict";(self.webpackChunkapp=self.webpackChunkapp||[]).push([[6438],{6438:(H,m,n)=>{n.r(m),n.d(m,{TabsPageModule:()=>G});var s=n(9928),g=n(9808),f=n(4182),h=n(3769),c=n(655),P=n(7511),d=n(9019),T=n(2875),v=n(2986),p=n(4549),t=n(5e3),u=n(7556),C=n(1892),M=n(9099),Z=n(1862),y=n(4375),x=n(7431);const b=["menu"];function O(o,l){if(1&o){const e=t.EpF();t.TgZ(0,"ion-item",6),t.NdJ("click",function(){t.CHM(e);const a=t.oxw();return t.KtG(a.goToHistory())}),t._UZ(1,"ion-icon",21),t.TgZ(2,"ion-label"),t._uU(3," Mis ordenes "),t.qZA()()}}function A(o,l){if(1&o){const e=t.EpF();t.TgZ(0,"ion-item",6),t.NdJ("click",function(){t.CHM(e);const a=t.oxw();return t.KtG(a.goToWishList())}),t._UZ(1,"ion-icon",22),t.TgZ(2,"ion-label"),t._uU(3," Favoritos "),t.qZA()()}}function U(o,l){if(1&o){const e=t.EpF();t.TgZ(0,"ion-item",6),t.NdJ("click",function(){t.CHM(e);const a=t.oxw();return t.KtG(a.goToProfile())}),t._UZ(1,"ion-icon",19),t.TgZ(2,"ion-label"),t._uU(3," Cuenta "),t.qZA()()}}function I(o,l){if(1&o){const e=t.EpF();t.TgZ(0,"div",23),t.NdJ("click",function(){t.CHM(e);const a=t.oxw();return t.KtG(a.viewCart())}),t.TgZ(1,"div",24)(2,"ion-badge"),t._uU(3),t.qZA()(),t.TgZ(4,"div",24)(5,"ion-label",25),t._uU(6,"Ver canasta"),t.qZA()(),t.TgZ(7,"div",24)(8,"ion-label",26),t._uU(9),t.ALo(10,"currency"),t.qZA()()()}if(2&o){const e=t.oxw();t.xp6(3),t.Oqu(e.auth.person.quantity),t.xp6(6),t.hij("",t.gM2(10,2,e.auth.person.total?e.auth.person.total:0,"","symbol","1.0")," ")}}function N(o,l){1&o&&(t.TgZ(0,"ion-tab-button",27),t._UZ(1,"ion-icon",22),t.TgZ(2,"ion-label"),t._uU(3,"Favoritos"),t.qZA()())}const S=[{path:"",component:(()=>{class o{constructor(e,i,a,r,J,Y,E,R,B){this.auth=e,this.ui=i,this.zone=a,this.router=r,this.realtime=J,this.menuC=Y,this.route=E,this.map_service=R,this.geolocation=B,this.user={}}ngOnInit(){console.log("mENU",this.menu),this.menu.ionDidClose.subscribe(e=>{this.showCart()}),localStorage.getItem("address_selected"),this.route.paramMap.pipe((0,v.q)(1)).subscribe(e=>{console.log("Ruta",e)})}openMenu(e){return(0,c.mG)(this,void 0,void 0,function*(){console.log("Event",e),e.preventDefault(),yield(yield this.menuC.enable(!0,"first")).setOpen(!0,!0),yield this.menu.setOpen(!0,!0),console.log("Open"),this.auth.person.hide_cart=!0})}showCart(){this.auth.person.hide_cart=!1,this.auth.setPerson(this.auth.person)}ionViewDidEnter(){this.menuC.enable(!0,"first"),this.geolocation.getCurrentPosition().then(e=>{this.auth.person.location={latitude:e.coords.latitude,longitude:e.coords.longitude},this.map_service.findPlace(this.auth.person.location).then(i=>{i&&this.auth.setPerson(this.auth.person)})})}ionViewWillEnter(){console.log("Backdrop",this.myBackdrop),console.log("Configuration Data",this.auth.user.configuration_data),this.listenToAdvancedConfiguration(),this.listenToVersionChange(),this.user=JSON.parse(localStorage.getItem("data")).user,console.log(this.user)}logOut(){return(0,c.mG)(this,void 0,void 0,function*(){this.auth.removeBack();const e={message:"Est\xe1 seguro de cerrar sesi\xf3n?",color_message:"#000000",color_title:"#000000",affirmativeText:"Cerrar Sesi\xf3n",negativeText:"Cancelar",modalWithButtons:!0,affirmativeMethod:()=>{this.auth.logOut()}};yield this.ui.presentModal(p.G,e,["modal-xxs","box-shadow-modal"])})}goToOrders(){this.auth.removeBack(),this.router.navigate(["/tabs/home"]),this.menu.close()}listenToAdvancedConfiguration(){}viewImage(){this.ui.presentModal(P.h,{image:this.auth.person.photo})}listenToVersionChange(){this.realtime.getFirebaseCollectionObject("code_version_mobile/3").subscribe(e=>(0,c.mG)(this,void 0,void 0,function*(){console.log("Res version code",e),null!=e&&(console.log("Res version code",e,"Version local",d.N.VERSION_NAME),console.log("Res version code environment",d.N),e.code!=d.N.VERSION_NAME&&(yield this.ui.presentAlert({mode:"ios",header:"\xa1Hay nueva versi\xf3n disponible!",message:"Por favor, descargala",buttons:[{text:"Aceptar",role:"cancel",cssClass:"secondary",handler:i=>{this.auth.logOut(),location.href=d.N.PLAY_STORE_URL}}]})))}))}goToHistory(){this.auth.removeBack(),this.router.navigate(["tabs/history"]),this.menu.close()}goToSelectCity(){this.router.navigate(["tabs/select-client-city"]),this.menu.close()}goToProfile(){this.auth.removeBack(),this.router.navigate(["tabs/profile"]),this.menu.close()}goToWishList(){localStorage.setItem("back_route","tabs/home"),this.router.navigate(["tabs/wish-list"]).then(()=>{this.menu.close()})}viewCart(){this.ui.presentModal(T.V)}}return o.\u0275fac=function(e){return new(e||o)(t.Y36(u.e),t.Y36(C.F),t.Y36(t.R0b),t.Y36(h.F0),t.Y36(M.i),t.Y36(s._q),t.Y36(h.gz),t.Y36(Z.z),t.Y36(y._))},o.\u0275cmp=t.Xpm({type:o,selectors:[["app-tabs"]],viewQuery:function(e,i){if(1&e&&(t.Gf(s.ql,5,s.ql),t.Gf(b,7)),2&e){let a;t.iGM(a=t.CRH())&&(i.myBackdrop=a.first),t.iGM(a=t.CRH())&&(i.menu=a.first)}},decls:45,vars:5,consts:[["side","end","menuId","first","contentId","main"],["menu",""],[2,"padding","0"],[1,"ion-text-center","image","banner-img"],["src","assets/imgs/logo zapp.png","alt","",1,"logo"],["src","assets/imgs/menu-1.png","alt","",1,"moto"],["lines","none",3,"click"],["name","home-icon"],["name","location-icon"],["lines","none",3,"click",4,"ngIf"],["lines","none"],["name","exit-z"],["id","main",3,"click"],["class","cart",3,"click",4,"ngIf"],["slot","bottom"],["tab","home"],["tab","search"],["name","find"],[3,"click"],["name","profile"],["tab","wish-list",4,"ngIf"],["name","historial"],["name","favoritos"],[1,"cart",3,"click"],[1,"column"],[1,"view_cart"],["slot","end"],["tab","wish-list"]],template:function(e,i){1&e&&(t.TgZ(0,"ion-menu",0,1)(2,"ion-content")(3,"ion-list",2)(4,"div",3),t._UZ(5,"img",4)(6,"img",5),t.qZA(),t.TgZ(7,"ion-item",6),t.NdJ("click",function(){return i.goToOrders()}),t._UZ(8,"ion-icon",7),t.TgZ(9,"ion-label"),t._uU(10," Inicio "),t.qZA()(),t.TgZ(11,"ion-item",6),t.NdJ("click",function(){return i.goToSelectCity()}),t._UZ(12,"ion-icon",8),t.TgZ(13,"ion-label"),t._uU(14," Cambiar de ciudad "),t.qZA()(),t.YNc(15,O,4,0,"ion-item",9),t.YNc(16,A,4,0,"ion-item",9),t.YNc(17,U,4,0,"ion-item",9),t.TgZ(18,"ion-item",10),t._UZ(19,"ion-icon",11),t.TgZ(20,"ion-label"),t._uU(21," Acerca de nosotros "),t.qZA()(),t.TgZ(22,"ion-item",6),t.NdJ("click",function(){return i.logOut()}),t._UZ(23,"ion-icon",11),t.TgZ(24,"ion-label"),t._uU(25," Cerrar sesi\xf3n "),t.qZA()()()()(),t._UZ(26,"app-toolbar"),t.TgZ(27,"ion-content",12),t.NdJ("click",function(){return i.showCart()}),t._UZ(28,"ion-router-outlet"),t.qZA(),t.YNc(29,I,11,7,"div",13),t.TgZ(30,"ion-tabs")(31,"ion-tab-bar",14)(32,"ion-tab-button",15),t._UZ(33,"ion-icon",7),t.TgZ(34,"ion-label"),t._uU(35,"Inicio"),t.qZA()(),t.TgZ(36,"ion-tab-button",16),t._UZ(37,"ion-icon",17),t.TgZ(38,"ion-label"),t._uU(39,"Buscar"),t.qZA()(),t.TgZ(40,"ion-tab-button",18),t.NdJ("click",function(r){return i.openMenu(r)}),t._UZ(41,"ion-icon",19),t.TgZ(42,"ion-label"),t._uU(43,"Cuenta"),t.qZA()(),t.YNc(44,N,4,0,"ion-tab-button",20),t.qZA()()),2&e&&(t.xp6(15),t.Q6J("ngIf","invitado@zapplogistica.com"!=i.auth.user.email),t.xp6(1),t.Q6J("ngIf","invitado@zapplogistica.com"!=i.auth.user.email),t.xp6(1),t.Q6J("ngIf","invitado@zapplogistica.com"!=i.auth.user.email),t.xp6(12),t.Q6J("ngIf",!(null!=i.auth.person&&i.auth.person.hide_cart)&&(null==i.auth.person?null:i.auth.person.cart_items)&&(null==i.auth.person?null:i.auth.person.cart_items.length)>0),t.xp6(15),t.Q6J("ngIf","invitado@zapplogistica.com"!=i.user.email))},dependencies:[s.yp,s.W2,s.gu,s.Ie,s.Q$,s.q_,s.z0,s.yq,s.ZU,s.UN,s.jP,g.O5,x.n,g.H9],styles:["ion-item[_ngcontent-%COMP%]   ion-icon[_ngcontent-%COMP%]{margin-right:10px}.image[_ngcontent-%COMP%]{background:url(menu-2.png);background-size:200px;background-position-x:-11px;background-position-y:center;background-repeat:no-repeat;min-height:200px}.image-tabs[_ngcontent-%COMP%]{width:25px;margin-right:10px}.cart[_ngcontent-%COMP%]{position:absolute;bottom:50px;width:90%;display:flex;height:40px;z-index:1000000;background:#a1e110;color:#49158c;text-align:center;right:0;left:0;margin:auto;padding:10px;justify-content:center;border-top-left-radius:30px;border-top-right-radius:30px}.cart[_ngcontent-%COMP%]   .column[_ngcontent-%COMP%]{width:33.333%;position:relative}.cart[_ngcontent-%COMP%]   .column[_ngcontent-%COMP%]   ion-label[_ngcontent-%COMP%]{font-stretch:ultra-expanded;font-weight:700;font-size:.9em}.cart[_ngcontent-%COMP%]   .column[_ngcontent-%COMP%]:first-child{text-align:left}.cart[_ngcontent-%COMP%]   .columnion-label[slot=end][_ngcontent-%COMP%]{text-align:right}.cart[_ngcontent-%COMP%]   .column[_ngcontent-%COMP%]   ion-badge[_ngcontent-%COMP%]{--background: #ffffff73;color:#49158c;height:20px;width:20px;border-radius:50%;font-size:1em;margin-left:20px}.banner-img[_ngcontent-%COMP%]{height:200px;position:relative;text-align:right!important}.banner-img[_ngcontent-%COMP%]   .logo[_ngcontent-%COMP%]{height:40px;text-align:right;width:100px;position:absolute;top:10px;left:15px}.banner-img[_ngcontent-%COMP%]   .moto[_ngcontent-%COMP%]{height:90%;margin-top:10%;text-align:right;width:50}"]}),o})(),canActivate:[(()=>{class o{constructor(e,i){this.router=e,this.auth=i}canActivate(e,i){return"si"!=localStorage.getItem("isLoggedIn")?(this.router.navigate(["/login"]),!1):(this.auth.setData(),!0)}}return o.\u0275fac=function(e){return new(e||o)(t.LFG(h.F0),t.LFG(u.e))},o.\u0275prov=t.Yz7({token:o,factory:o.\u0275fac,providedIn:"root"}),o})()],children:[{path:"select-client-city",loadChildren:()=>n.e(6325).then(n.bind(n,6325)).then(o=>o.SelectClientCityPageModule)},{path:"home",loadChildren:()=>n.e(561).then(n.bind(n,561)).then(o=>o.HomePageModule)},{path:"trending",loadChildren:()=>n.e(3049).then(n.bind(n,3049)).then(o=>o.TrendingPageModule)},{path:"offers",loadChildren:()=>n.e(4650).then(n.bind(n,4650)).then(o=>o.OffersPageModule)},{path:"summary",loadChildren:()=>n.e(1962).then(n.bind(n,1962)).then(o=>o.SummaryPageModule)},{path:"select-address",loadChildren:()=>n.e(2217).then(n.bind(n,2217)).then(o=>o.SelectAddressPageModule)},{path:"orders",loadChildren:()=>n.e(4623).then(n.bind(n,4623)).then(o=>o.OrdersPageModule)},{path:"select-payment",loadChildren:()=>n.e(6588).then(n.bind(n,6588)).then(o=>o.SelectPaymentPageModule)},{path:"transport-type",loadChildren:()=>Promise.all([n.e(8592),n.e(7628)]).then(n.bind(n,6290)).then(o=>o.TransportTypePageModule)},{path:"service-type",loadChildren:()=>n.e(524).then(n.bind(n,524)).then(o=>o.ServiceTypePageModule)},{path:"select-city",loadChildren:()=>n.e(8745).then(n.bind(n,8745)).then(o=>o.SelectCityPageModule)},{path:"trip",loadChildren:()=>n.e(9003).then(n.bind(n,9003)).then(o=>o.TripPageModule)},{path:"select-time",loadChildren:()=>n.e(5184).then(n.bind(n,5184)).then(o=>o.SelectTimePageModule)},{path:"add-driver",loadChildren:()=>n.e(598).then(n.bind(n,598)).then(o=>o.AddDriverPageModule)},{path:"drivers",loadChildren:()=>Promise.all([n.e(8592),n.e(8006)]).then(n.bind(n,8506)).then(o=>o.DriversPageModule)},{path:"time-summary",loadChildren:()=>n.e(7581).then(n.bind(n,7581)).then(o=>o.TimeSummaryPageModule)},{path:"profile",loadChildren:()=>n.e(8592).then(n.bind(n,7497)).then(o=>o.ProfilePageModule)},{path:"personal-information",loadChildren:()=>n.e(240).then(n.bind(n,240)).then(o=>o.PersonalInformationPageModule)},{path:"change-password",loadChildren:()=>Promise.all([n.e(8592),n.e(3928)]).then(n.bind(n,3928)).then(o=>o.ChangePasswordPageModule)},{path:"history",loadChildren:()=>n.e(4152).then(n.bind(n,4152)).then(o=>o.HistoryPageModule)},{path:"about",loadChildren:()=>n.e(6499).then(n.bind(n,6499)).then(o=>o.AboutPageModule)},{path:"payment-method",loadChildren:()=>n.e(2622).then(n.bind(n,2622)).then(o=>o.PaymentMethodPageModule)},{path:"create-order",loadChildren:()=>n.e(9652).then(n.bind(n,9652)).then(o=>o.DummyCreateOrderPageModule)},{path:"show-products/:shop",loadChildren:()=>n.e(9679).then(n.bind(n,9679)).then(o=>o.ShowProductsPageModule)},{path:"wish-list",loadChildren:()=>n.e(1396).then(n.bind(n,1396)).then(o=>o.WishlistPageModule)},{path:"search",loadChildren:()=>n.e(626).then(n.bind(n,626)).then(o=>o.FiltersSearchPageModule)},{path:"stores/:category",loadChildren:()=>n.e(8592).then(n.bind(n,2837)).then(o=>o.StoresPageModule)},{path:"",redirectTo:"/tabs/home",pathMatch:"full"}]}];let z=(()=>{class o{}return o.\u0275fac=function(e){return new(e||o)},o.\u0275mod=t.oAB({type:o}),o.\u0275inj=t.cJS({imports:[h.Bz.forChild(S),h.Bz]}),o})();var F=n(8412);let G=(()=>{class o{}return o.\u0275fac=function(e){return new(e||o)},o.\u0275mod=t.oAB({type:o}),o.\u0275inj=t.cJS({imports:[s.Pc,g.ez,f.u5,F.j,z]}),o})()}}]);