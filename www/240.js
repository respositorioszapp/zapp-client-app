"use strict";(self.webpackChunkapp=self.webpackChunkapp||[]).push([[240],{240:(pe,p,_)=>{_.r(p),_.d(p,{PersonalInformationPageModule:()=>ue});var d=_(9808),s=_(4182),l=_(9928),u=_(3769),c=_(655),e=_(5e3),g=_(7556),f=_(1335),h=_(1892);function Z(n,o){if(1&n&&(e.TgZ(0,"ion-select-option",21),e._uU(1),e.qZA()),2&n){const i=o.$implicit;e.Q6J("value",i.id),e.xp6(1),e.hij("",i.name," ")}}function x(n,o){1&n&&(e.TgZ(0,"ion-label"),e._uU(1,"El tipo de documento es requerido"),e.qZA())}function I(n,o){if(1&n&&(e.TgZ(0,"ion-item",22),e._UZ(1,"ion-icon",23),e.YNc(2,x,2,0,"ion-label",24),e.qZA()),2&n){const i=e.oxw(2);e.xp6(2),e.Q6J("ngIf",i.controls.dni_type_id.errors.required)}}function y(n,o){1&n&&(e.TgZ(0,"ion-label"),e._uU(1,"El n\xfamero de identificaci\xf3n es requerido"),e.qZA())}function P(n,o){if(1&n&&(e.TgZ(0,"ion-item",22),e._UZ(1,"ion-icon",23),e.YNc(2,y,2,0,"ion-label",24),e.qZA()),2&n){const i=e.oxw(2);e.xp6(2),e.Q6J("ngIf",i.controls.dni.errors.required)}}function T(n,o){1&n&&(e.TgZ(0,"ion-label"),e._uU(1,"Nombre es requerido"),e.qZA())}function q(n,o){if(1&n&&(e.TgZ(0,"ion-item",22),e._UZ(1,"ion-icon",23),e.YNc(2,T,2,0,"ion-label",24),e.qZA()),2&n){const i=e.oxw(2);e.xp6(2),e.Q6J("ngIf",i.controls.names.errors.required)}}function b(n,o){1&n&&(e.TgZ(0,"ion-label"),e._uU(1,"Apellidos es requerido"),e.qZA())}function A(n,o){if(1&n&&(e.TgZ(0,"ion-item",22),e._UZ(1,"ion-icon",23),e.YNc(2,b,2,0,"ion-label",24),e.qZA()),2&n){const i=e.oxw(2);e.xp6(2),e.Q6J("ngIf",i.controls.lastnames.errors.required)}}function N(n,o){1&n&&(e.TgZ(0,"ion-label"),e._uU(1,"Direcci\xf3n es requerida"),e.qZA())}function v(n,o){if(1&n&&(e.TgZ(0,"ion-item",25),e._UZ(1,"ion-icon",23),e.YNc(2,N,2,0,"ion-label",24),e.qZA()),2&n){const i=e.oxw(2);e.xp6(2),e.Q6J("ngIf",i.controls.address.errors.required)}}function U(n,o){if(1&n&&(e.TgZ(0,"ion-select-option",21),e._uU(1),e.qZA()),2&n){const i=o.$implicit;e.Q6J("value",i.id),e.xp6(1),e.hij("",i.name," ")}}function J(n,o){1&n&&(e.TgZ(0,"ion-label"),e._uU(1,"La ciudad es requerida"),e.qZA())}function Q(n,o){if(1&n&&(e.TgZ(0,"ion-item",22),e._UZ(1,"ion-icon",23),e.YNc(2,J,2,0,"ion-label",24),e.qZA()),2&n){const i=e.oxw(2);e.xp6(2),e.Q6J("ngIf",i.controls.city.errors.required)}}function Y(n,o){1&n&&(e.TgZ(0,"ion-label"),e._uU(1,"El tel\xe9fono es requerido"),e.qZA())}function k(n,o){1&n&&(e.TgZ(0,"ion-label"),e._uU(1," Debe ser 10 d\xedgitos "),e.qZA())}function E(n,o){1&n&&(e.TgZ(0,"ion-label"),e._uU(1,"El t\xe9lefono es un valor num\xe9rico"),e.qZA())}function C(n,o){if(1&n&&(e.TgZ(0,"ion-item",22),e._UZ(1,"ion-icon",23),e.YNc(2,Y,2,0,"ion-label",24),e.YNc(3,k,2,0,"ion-label",24),e.YNc(4,E,2,0,"ion-label",24),e.qZA()),2&n){const i=e.oxw(2);e.xp6(2),e.Q6J("ngIf",i.controls.phone.errors.required),e.xp6(1),e.Q6J("ngIf",i.controls.phone.errors.minlength||i.controls.phone.errors.maxlength),e.xp6(1),e.Q6J("ngIf",i.controls.phone.errors.pattern)}}function w(n,o){1&n&&(e.TgZ(0,"ion-label"),e._uU(1,"Email es requerido"),e.qZA())}function F(n,o){1&n&&(e.TgZ(0,"ion-label"),e._uU(1,"Debe ser un email v\xe1lido "),e.qZA())}function z(n,o){if(1&n&&(e.TgZ(0,"ion-item",22),e._UZ(1,"ion-icon",23),e.YNc(2,w,2,0,"ion-label",24),e.YNc(3,F,2,0,"ion-label",24),e.qZA()),2&n){const i=e.oxw(2);e.xp6(2),e.Q6J("ngIf",i.controls.email.errors.required),e.xp6(1),e.Q6J("ngIf",i.controls.email.errors.email||i.controls.email.errors.pattern)}}function G(n,o){if(1&n){const i=e.EpF();e.ynx(0),e.TgZ(1,"form",7)(2,"ion-item",8)(3,"ion-select",9),e.YNc(4,Z,2,2,"ion-select-option",10),e.qZA()(),e.YNc(5,I,3,1,"ion-item",11),e.TgZ(6,"ion-item",8),e._UZ(7,"ion-input",12),e.qZA(),e.YNc(8,P,3,1,"ion-item",11),e.TgZ(9,"ion-item",8),e._UZ(10,"ion-input",13),e.qZA(),e.YNc(11,q,3,1,"ion-item",11),e.TgZ(12,"ion-item",8),e._UZ(13,"ion-input",14),e.qZA(),e.YNc(14,A,3,1,"ion-item",11),e.TgZ(15,"ion-item",8),e._UZ(16,"ion-input",15),e.qZA(),e.YNc(17,v,3,1,"ion-item",16),e.TgZ(18,"ion-item",8)(19,"ion-select",17),e.YNc(20,U,2,2,"ion-select-option",10),e.qZA()(),e.YNc(21,Q,3,1,"ion-item",11),e.TgZ(22,"ion-item",8),e._UZ(23,"ion-input",18),e.qZA(),e.YNc(24,C,5,3,"ion-item",11),e.TgZ(25,"ion-item",8),e._UZ(26,"ion-input",19),e.qZA(),e.YNc(27,z,4,2,"ion-item",11),e.TgZ(28,"ion-button",20),e.NdJ("click",function(){e.CHM(i);const t=e.oxw();return e.KtG(t.save())}),e._uU(29," Actualizar "),e.qZA()(),e.BQk()}if(2&n){const i=e.oxw();e.xp6(1),e.Q6J("formGroup",i.personal_information),e.xp6(2),e.Q6J("selectedText",i.type.name),e.xp6(1),e.Q6J("ngForOf",i.types),e.xp6(1),e.Q6J("ngIf",i.controls.dni_type_id.dirty&&i.controls.dni_type_id.touched&&i.controls.dni_type_id.errors),e.xp6(3),e.Q6J("ngIf",i.controls.dni.dirty&&i.controls.dni.touched&&i.controls.dni.errors),e.xp6(3),e.Q6J("ngIf",i.controls.names.dirty&&i.controls.names.touched&&i.controls.names.errors),e.xp6(3),e.Q6J("ngIf",i.controls.lastnames.dirty&&i.controls.lastnames.touched&&i.controls.lastnames.errors),e.xp6(3),e.Q6J("ngIf",i.controls.address.dirty&&i.controls.address.touched&&i.controls.address.errors),e.xp6(2),e.Q6J("selectedText",i.city.name),e.xp6(1),e.Q6J("ngForOf",i.cities),e.xp6(1),e.Q6J("ngIf",i.controls.city.dirty&&i.controls.city.touched&&i.controls.city.errors),e.xp6(3),e.Q6J("ngIf",i.controls.phone.dirty&&i.controls.phone.touched&&i.controls.phone.errors),e.xp6(3),e.Q6J("ngIf",i.controls.email.dirty&&i.controls.email.touched&&i.controls.email.errors)}}function O(n,o){if(1&n&&(e.TgZ(0,"ion-select-option",21),e._uU(1),e.qZA()),2&n){const i=o.$implicit;e.Q6J("value",i.id),e.xp6(1),e.hij("",i.name," ")}}function S(n,o){1&n&&(e.TgZ(0,"ion-label"),e._uU(1,"El tipo de documento es requerido"),e.qZA())}function M(n,o){if(1&n&&(e.TgZ(0,"ion-item",22),e._UZ(1,"ion-icon",23),e.YNc(2,S,2,0,"ion-label",24),e.qZA()),2&n){const i=e.oxw(2);e.xp6(2),e.Q6J("ngIf",i.controls.dni_type_id.errors.required)}}function j(n,o){1&n&&(e.TgZ(0,"ion-label"),e._uU(1,"El n\xfamero de identificaci\xf3n es requerido"),e.qZA())}function B(n,o){if(1&n&&(e.TgZ(0,"ion-item",22),e._UZ(1,"ion-icon",23),e.YNc(2,j,2,0,"ion-label",24),e.qZA()),2&n){const i=e.oxw(2);e.xp6(2),e.Q6J("ngIf",i.controls.dni.errors.required)}}function D(n,o){1&n&&(e.TgZ(0,"ion-label"),e._uU(1,"Nombre es requerido"),e.qZA())}function L(n,o){if(1&n&&(e.TgZ(0,"ion-item",22),e._UZ(1,"ion-icon",23),e.YNc(2,D,2,0,"ion-label",24),e.qZA()),2&n){const i=e.oxw(2);e.xp6(2),e.Q6J("ngIf",i.controls.names.errors.required)}}function $(n,o){1&n&&(e.TgZ(0,"ion-label"),e._uU(1,"Apellidos es requerido"),e.qZA())}function R(n,o){if(1&n&&(e.TgZ(0,"ion-item",22),e._UZ(1,"ion-icon",23),e.YNc(2,$,2,0,"ion-label",24),e.qZA()),2&n){const i=e.oxw(2);e.xp6(2),e.Q6J("ngIf",i.controls.lastnames.errors.required)}}function H(n,o){1&n&&(e.TgZ(0,"ion-label"),e._uU(1,"Direcci\xf3n es requerida"),e.qZA())}function K(n,o){if(1&n&&(e.TgZ(0,"ion-item",25),e._UZ(1,"ion-icon",23),e.YNc(2,H,2,0,"ion-label",24),e.qZA()),2&n){const i=e.oxw(2);e.xp6(2),e.Q6J("ngIf",i.controls.address.errors.required)}}function V(n,o){if(1&n&&(e.TgZ(0,"ion-select-option",21),e._uU(1),e.qZA()),2&n){const i=o.$implicit;e.Q6J("value",i.id),e.xp6(1),e.hij("",i.name," ")}}function W(n,o){1&n&&(e.TgZ(0,"ion-label"),e._uU(1,"La ciudad es requerida"),e.qZA())}function X(n,o){if(1&n&&(e.TgZ(0,"ion-item",22),e._UZ(1,"ion-icon",23),e.YNc(2,W,2,0,"ion-label",24),e.qZA()),2&n){const i=e.oxw(2);e.xp6(2),e.Q6J("ngIf",i.controls.city.errors.required)}}function ee(n,o){1&n&&(e.TgZ(0,"ion-label"),e._uU(1,"El tel\xe9fono es requerido"),e.qZA())}function ie(n,o){1&n&&(e.TgZ(0,"ion-label"),e._uU(1," Debe ser 10 d\xedgitos "),e.qZA())}function ne(n,o){1&n&&(e.TgZ(0,"ion-label"),e._uU(1,"El t\xe9lefono es un valor num\xe9rico"),e.qZA())}function oe(n,o){if(1&n&&(e.TgZ(0,"ion-item",22),e._UZ(1,"ion-icon",23),e.YNc(2,ee,2,0,"ion-label",24),e.YNc(3,ie,2,0,"ion-label",24),e.YNc(4,ne,2,0,"ion-label",24),e.qZA()),2&n){const i=e.oxw(2);e.xp6(2),e.Q6J("ngIf",i.controls.phone.errors.required),e.xp6(1),e.Q6J("ngIf",i.controls.phone.errors.minlength||i.controls.phone.errors.maxlength),e.xp6(1),e.Q6J("ngIf",i.controls.phone.errors.pattern)}}function te(n,o){1&n&&(e.TgZ(0,"ion-label"),e._uU(1,"El campo "),e.qZA())}function se(n,o){if(1&n&&(e.TgZ(0,"ion-item",22),e._UZ(1,"ion-icon",23),e.YNc(2,te,2,0,"ion-label",24),e.qZA()),2&n){const i=e.oxw(2);e.xp6(2),e.Q6J("ngIf",i.controls.business_name.errors.required)}}function re(n,o){1&n&&(e.TgZ(0,"ion-label"),e._uU(1,"NIT es requerido"),e.qZA())}function ae(n,o){if(1&n&&(e.TgZ(0,"ion-item",22),e._UZ(1,"ion-icon",23),e.YNc(2,re,2,0,"ion-label",24),e.qZA()),2&n){const i=e.oxw(2);e.xp6(2),e.Q6J("ngIf",i.controls.nit.errors.required)}}function le(n,o){1&n&&(e.TgZ(0,"ion-label"),e._uU(1,"Email es requerido"),e.qZA())}function _e(n,o){if(1&n&&(e.TgZ(0,"ion-item",22),e._UZ(1,"ion-icon",23),e.YNc(2,le,2,0,"ion-label",24),e.qZA()),2&n){const i=e.oxw(2);e.xp6(2),e.Q6J("ngIf",i.controls.position.errors.required)}}function ce(n,o){if(1&n){const i=e.EpF();e.TgZ(0,"form",7)(1,"ion-item",8)(2,"ion-select",9),e.YNc(3,O,2,2,"ion-select-option",10),e.qZA()(),e.YNc(4,M,3,1,"ion-item",11),e.TgZ(5,"ion-item",8),e._UZ(6,"ion-input",12),e.qZA(),e.YNc(7,B,3,1,"ion-item",11),e.TgZ(8,"ion-item",8),e._UZ(9,"ion-input",13),e.qZA(),e.YNc(10,L,3,1,"ion-item",11),e.TgZ(11,"ion-item",8),e._UZ(12,"ion-input",14),e.qZA(),e.YNc(13,R,3,1,"ion-item",11),e.TgZ(14,"ion-item",8),e._UZ(15,"ion-input",15),e.qZA(),e.YNc(16,K,3,1,"ion-item",16),e.TgZ(17,"ion-item",8)(18,"ion-select",17),e.YNc(19,V,2,2,"ion-select-option",10),e.qZA()(),e.YNc(20,X,3,1,"ion-item",11),e.TgZ(21,"ion-item",8),e._UZ(22,"ion-input",18),e.qZA(),e.YNc(23,oe,5,3,"ion-item",11),e.TgZ(24,"ion-item",8),e._UZ(25,"ion-input",26),e.qZA(),e.YNc(26,se,3,1,"ion-item",11),e.TgZ(27,"ion-item",8),e._UZ(28,"ion-input",27),e.qZA(),e.YNc(29,ae,3,1,"ion-item",11),e.TgZ(30,"ion-item",8),e._UZ(31,"ion-input",28),e.qZA(),e.YNc(32,_e,3,1,"ion-item",11),e.TgZ(33,"ion-button",20),e.NdJ("click",function(){e.CHM(i);const t=e.oxw();return e.KtG(t.save())}),e._uU(34," Actualizar "),e.qZA()()}if(2&n){const i=e.oxw();e.Q6J("formGroup",i.business_information),e.xp6(2),e.Q6J("selectedText",i.type.name),e.xp6(1),e.Q6J("ngForOf",i.types),e.xp6(1),e.Q6J("ngIf",i.controls.dni_type_id.dirty&&i.controls.dni_type_id.touched&&i.controls.dni_type_id.errors),e.xp6(3),e.Q6J("ngIf",i.controls.dni.dirty&&i.controls.dni.touched&&i.controls.dni.errors),e.xp6(3),e.Q6J("ngIf",i.controls.names.dirty&&i.controls.names.touched&&i.controls.names.errors),e.xp6(3),e.Q6J("ngIf",i.controls.lastnames.dirty&&i.controls.lastnames.touched&&i.controls.lastnames.errors),e.xp6(3),e.Q6J("ngIf",i.controls.address.dirty&&i.controls.address.touched&&i.controls.address.errors),e.xp6(2),e.Q6J("selectedText",i.city.name),e.xp6(1),e.Q6J("ngForOf",i.cities),e.xp6(1),e.Q6J("ngIf",i.controls.city.dirty&&i.controls.city.touched&&i.controls.city.errors),e.xp6(3),e.Q6J("ngIf",i.controls.phone.dirty&&i.controls.phone.touched&&i.controls.phone.errors),e.xp6(3),e.Q6J("ngIf",i.controls.business_name.dirty&&i.controls.business_name.touched&&i.controls.business_name.errors),e.xp6(3),e.Q6J("ngIf",i.controls.nit.dirty&&i.controls.nit.touched&&i.controls.nit.errors),e.xp6(3),e.Q6J("ngIf",i.controls.position.dirty&&i.controls.position.touched&&i.controls.position.errors)}}const me=[{path:"",component:(()=>{class n{constructor(i,r,t,a,m){this.auth=i,this.fb=r,this.request=t,this.ui=a,this.router=m,this.types=[],this.cities=[],this.city={name:"Barranquilla"},this.type={name:"Cedula de Ciudadan\xeda"},this.image="assets/imgs/avatar.svg",this.personal_information=this.fb.group({names:["",s.kI.required],lastnames:["",s.kI.required],address:["",s.kI.required],dni_type_id:["10",s.kI.required],dni:["",s.kI.required],city:[4,s.kI.required],phone:["",[s.kI.required,s.kI.minLength(10),s.kI.maxLength(10),s.kI.pattern("^[0-9]*$")]],email:["",[s.kI.required,s.kI.pattern("[A-Za-z0-9._%+-]{3,}@[a-zA-Z]{2,}([.]{1}[a-zA-Z]{2,}|[.]{1}[a-zA-Z]{2,}[.]{1}[a-zA-Z]{2,})")]]}),this.business_information=this.fb.group({names:["",s.kI.required],lastnames:["",s.kI.required],address:["",s.kI.required],dni_type_id:["10",s.kI.required],dni:["",s.kI.required],city:[4,s.kI.required],phone:["",[s.kI.required,s.kI.minLength(10),s.kI.maxLength(10),s.kI.pattern("^[0-9]*$")]],email:["",[s.kI.required,s.kI.pattern("[A-Za-z0-9._%+-]{3,}@[a-zA-Z]{2,}([.]{1}[a-zA-Z]{2,}|[.]{1}[a-zA-Z]{2,}[.]{1}[a-zA-Z]{2,})")]],business_name:["",[s.kI.required]],nit:["",[s.kI.required]],position:["",[s.kI.required]]})}ngOnInit(){}ionViewWillEnter(){return(0,c.mG)(this,void 0,void 0,function*(){this.auth.setBack(!0),console.log("Personal Information"),this.auth.person.photo&&(this.image=this.auth.person.photo),3==this.auth.role.id?this.personal_information.setValue({names:this.auth.person.first_name,lastnames:this.auth.person.last_name,address:this.auth.person.address,dni_type_id:this.auth.person.dni_type_id,dni:this.auth.person.dni,city:this.auth.person.city_id,phone:this.auth.person.phone,email:this.auth.person.email}):this.business_information.setValue({names:this.auth.person.first_name,lastnames:this.auth.person.last_name,address:this.auth.person.address,dni_type_id:this.auth.person.dni_type_id,dni:this.auth.person.dni,city:this.auth.person.city_id,phone:this.auth.person.phone,email:this.auth.person.email,business_name:this.auth.companies.business_name,position:this.auth.person.position,nit:String(this.auth.companies.nit)}),console.log("Rol",this.auth.role);const i=yield this.ui.loading("Por favor espere...");this.request.get("indexcities").subscribe(r=>(0,c.mG)(this,void 0,void 0,function*(){this.cities=r.data,this.city=this.cities.find(t=>t.id==this.controls.city.value),this.controls.city.valueChanges.subscribe(t=>{console.log("Change city",t),this.city=this.cities.find(a=>a.id==t),console.log("Change city",this.city)}),this.request.get("list/attributes?parameter_id=4").subscribe(t=>(0,c.mG)(this,void 0,void 0,function*(){if((yield i).dismiss(),this.types=t.data,this.type=this.types.find(a=>10==a.id),localStorage.getItem("personal_information")){const a=JSON.parse(localStorage.getItem("personal_information"));this.type=this.types.find(m=>m.id==a.dni_type_id)}this.controls.dni_type_id.valueChanges.subscribe(a=>{this.type=this.types.find(m=>m.id==a)})}),t=>(0,c.mG)(this,void 0,void 0,function*(){(yield i).dismiss()}))}),r=>{this.request.get("list/attributes?parameter_id=4").subscribe(t=>(0,c.mG)(this,void 0,void 0,function*(){if((yield i).dismiss(),this.types=t.data,this.type=this.types.find(a=>10==a.id),localStorage.getItem("personal_information")){const a=JSON.parse(localStorage.getItem("personal_information"));this.type=this.types.find(m=>m.id==a.dni_type_id)}this.controls.dni_type_id.valueChanges.subscribe(a=>{this.type=this.types.find(m=>m.id==a)})}),t=>(0,c.mG)(this,void 0,void 0,function*(){(yield i).dismiss()}))})})}save(){return(0,c.mG)(this,void 0,void 0,function*(){if(3==this.auth.role.id){if(this.personal_information.valid){const i=yield this.ui.loading("Por favor espere..."),r=Object.assign({},this.personal_information.value);console.log("Information",r);const t={dni_type_id:r.dni_type_id,dni:r.dni,first_name:r.names,last_name:r.lastnames,city:r.city,address:r.address,phone:r.phone,email:r.email,city_id:this.city.id,country:"CO",state_id:this.city.state_id,user_id:this.auth.user.id,role_id:this.auth.role.id};console.log("Parameters",t),this.request.post("update_client",t).subscribe(a=>(0,c.mG)(this,void 0,void 0,function*(){(yield i).dismiss(),this.auth.removeBack(),this.auth.person.email=t.email,this.auth.person.dni=t.dni,this.auth.person.dni_type_id=t.dni_type_id,this.auth.person.phone=t.phone,this.auth.person.address=t.address,this.auth.person.first_name=t.first_name,this.auth.person.last_name=t.last_name,this.auth.person.city=this.city.name,this.auth.person.city_id=this.city.id,this.auth.person.state_id=this.city.state_id,this.auth.setPerson(this.auth.person),this.auth.user.email=t.email,this.auth.setUser(this.auth.user),this.ui.showToast("Usuario Actualizado exitosamente",()=>{this.router.navigate(["/tabs/profile"]),localStorage.removeItem("back")}),console.log(a.data)}),a=>(0,c.mG)(this,void 0,void 0,function*(){(yield i).dismiss(),console.log("errorrrr",a.error.messages[0]),this.ui.showToast(a.error.messages[0])}))}}else if(this.business_information.valid){const i=yield this.ui.loading("Por favor espere..."),r=Object.assign({},this.business_information.value);console.log("Information",r);const t={dni_type_id:r.dni_type_id,dni:r.dni,first_name:r.names,last_name:r.lastnames,city:r.city,address:r.address,phone:r.phone,email:r.email,business_name:r.business_name,nit:r.nit,position:r.position,city_id:this.city.id,country:"CO",state_id:this.city.state_id,user_id:this.auth.user.id,role_id:this.auth.role.id};console.log("Parameters",t),this.request.post("update_client",t).subscribe(a=>(0,c.mG)(this,void 0,void 0,function*(){(yield i).dismiss(),this.auth.removeBack(),this.auth.person.email=t.email,this.auth.person.dni=t.dni,this.auth.person.dni_type_id=t.dni_type_id,this.auth.person.phone=t.phone,this.auth.person.address=t.address,this.auth.person.first_name=t.first_name,this.auth.person.last_name=t.last_name,this.auth.person.position=t.position,this.auth.person.city=this.city.name,this.auth.person.city_id=this.city.id,this.auth.person.state_id=this.city.state_id,this.auth.setPerson(this.auth.person),this.auth.user.email=t.email,this.auth.setUser(this.auth.user),this.auth.companies.business_name=t.business_name,this.auth.companies.nit=t.nit,this.auth.setCompanies(this.auth.companies),this.ui.showToast("Usuario Actualizado exitosamente",()=>{this.router.navigate(["/tabs/profile"]),localStorage.removeItem("back")}),console.log(a.data)}),a=>(0,c.mG)(this,void 0,void 0,function*(){(yield i).dismiss(),console.log("errorrrr",a.error.messages[0]),this.ui.showToast(a.error.messages[0])}))}})}get controls(){return 3==this.auth.role.id?this.personal_information.controls:this.business_information.controls}}return n.\u0275fac=function(i){return new(i||n)(e.Y36(g.e),e.Y36(s.qu),e.Y36(f.s),e.Y36(h.F),e.Y36(u.F0))},n.\u0275cmp=e.Xpm({type:n,selectors:[["app-personal-information"]],decls:13,vars:4,consts:[[1,"gray-background"],[1,"ion-text-center",2,"margin-top","10px"],[2,"border-radius","100%","width","100px","height","100px",3,"src"],[1,"ion-text-center"],["mode","ios"],[4,"ngIf","ngIfElse"],["elseTemplate",""],["novalidate","",3,"formGroup"],["lines","none",1,"input-text","ion-margin-top"],["placeholder","Seleccione una tipo","name","city","formControlName","dni_type_id","mode","ios",2,"display","contents",3,"selectedText"],[3,"value",4,"ngFor","ngForOf"],["lines","none","class","danger-color-text",4,"ngIf"],["placeholder","No. Identificaci\xf3n","formControlName","dni","required",""],["placeholder","Nombre","formControlName","names","required",""],["placeholder","Apellidos","formControlName","lastnames","required",""],["placeholder","Direcci\xf3n","formControlName","address","required",""],["class","danger-color-text",4,"ngIf"],["placeholder","Seleccione una ciudad","name","city","formControlName","city","mode","ios",2,"display","contents",3,"selectedText"],["placeholder","Tel\xe9fono","formControlName","phone","required",""],["placeholder","Email","formControlName","email","type","email","required",""],["type","submit","expand","block","mode","ios","color","primary",1,"ion-margin-top",3,"click"],[3,"value"],["lines","none",1,"danger-color-text"],["name","alert-circle","slot","start",1,"danger-color-text"],[4,"ngIf"],[1,"danger-color-text"],["placeholder","Nombre Empresa","formControlName","business_name","type","text","required",""],["placeholder","Nit","formControlName","nit","type","text","required",""],["placeholder","Cargo","formControlName","position","type","text","required",""]],template:function(i,r){if(1&i&&(e.TgZ(0,"ion-content",0)(1,"div")(2,"div",1),e._UZ(3,"img",2),e.qZA(),e.TgZ(4,"ion-card-header",3),e._uU(5),e.qZA()(),e.TgZ(6,"ion-card",4)(7,"ion-card-header",3),e._uU(8," Informaci\xf3n Personal "),e.qZA(),e.TgZ(9,"ion-card-content"),e.YNc(10,G,30,13,"ng-container",5),e.YNc(11,ce,35,15,"ng-template",null,6,e.W1O),e.qZA()()()),2&i){const t=e.MAs(12);e.xp6(3),e.Q6J("src",r.image,e.LSH),e.xp6(2),e.hij(" ",r.auth.user.name," "),e.xp6(5),e.Q6J("ngIf",3==r.auth.role.id)("ngIfElse",t)}},dependencies:[d.sg,d.O5,s._Y,s.JJ,s.JL,s.Q7,s.sg,s.u,l.YG,l.PM,l.FN,l.Zi,l.W2,l.gu,l.pK,l.Ie,l.Q$,l.t9,l.n0,l.QI,l.j9]}),n})()}];let de=(()=>{class n{}return n.\u0275fac=function(i){return new(i||n)},n.\u0275mod=e.oAB({type:n}),n.\u0275inj=e.cJS({imports:[u.Bz.forChild(me),u.Bz]}),n})(),ue=(()=>{class n{}return n.\u0275fac=function(i){return new(i||n)},n.\u0275mod=e.oAB({type:n}),n.\u0275inj=e.cJS({imports:[d.ez,s.u5,s.UX,l.Pc,de]}),n})()}}]);