"use strict";(self.webpackChunkapp=self.webpackChunkapp||[]).push([[6325],{6325:(P,u,n)=>{n.r(u),n.d(u,{SelectClientCityPageModule:()=>S});var g=n(9808),r=n(4182),c=n(9928),d=n(3769),l=n(655),t=n(5e3),y=n(1892),p=n(1335),C=n(7556);function f(e,a){if(1&e&&(t.TgZ(0,"ion-select-option",5),t._uU(1),t.qZA()),2&e){const i=a.$implicit;t.s9C("value",i.id),t.xp6(1),t.Oqu(i.name)}}const m=[{path:"",component:(()=>{class e{constructor(i,s,o,h){this.ui=i,this.request=s,this.auth=o,this.router=h,this.customAlertOptions={header:"Seleccione una ciudad",cssClass:"custom-alert"},this.quotation={},this.loading=!1,this.cities_array=[],this.city={name:"Bogot\xe1 DC"},this.city_id="2"}ionViewDidEnter(){return(0,l.mG)(this,void 0,void 0,function*(){this.loadData()})}loadData(){return(0,l.mG)(this,void 0,void 0,function*(){this.cities_array=[];const i=yield this.ui.loading("Por favor espere...");this.request.get("indexcities").subscribe(s=>(0,l.mG)(this,void 0,void 0,function*(){(yield i).dismiss(),this.cities_array=s.data,this.auth.person.city_selected?(this.city_id=this.auth.person.city_selected.id.toString(),this.city=this.cities_array.find(o=>o.id==this.auth.person.city_selected.id)):(this.city_id=this.auth.person.city_id.toString(),this.city=this.cities_array.find(o=>o.id==this.auth.person.city_id))}),s=>(0,l.mG)(this,void 0,void 0,function*(){(yield i).dismiss(),yield this.ui.presentAlert({mode:"ios",header:"No se ha podido cargar la informaci\xf3n ",message:"Por favor, revise su conexi\xf3n",buttons:[{text:"Intentar de nuevo",cssClass:"secondary",handler:o=>{this.loadData()}}]})}))})}changeCity(){this.city=this.cities_array.find(i=>i.id.toString()==this.city_id)}save(){this.auth.person.city_selected?this.city.id!=this.auth.person.city_selected.id&&(this.auth.person.city_selected=this.city,this.auth.setPerson(this.auth.person),this.router.navigate(["tabs/home"])):this.city.id!=this.auth.person.city_id&&(this.auth.person.city_selected=this.city,this.auth.setPerson(this.auth.person),this.router.navigate(["tabs/home"]))}ngOnInit(){}}return e.\u0275fac=function(i){return new(i||e)(t.Y36(y.F),t.Y36(p.s),t.Y36(C.e),t.Y36(d.F0))},e.\u0275cmp=t.Xpm({type:e,selectors:[["app-select-client-city"]],decls:6,vars:4,consts:[[1,"ion-padding","ion-text-center"],["src","assets/imgs/beautiful-city.gif",2,"height","380px","max-height","380px","width","100%","max-width","380px","text-align","center"],["placeholder","Seleccciona una ciudad","interface","alert",1,"col-md-6","col-xs-12",2,"border","2px solid rgba(196, 255, 18, 1)","width","100%","text-align","left","padding","10px","border-radius","20px",3,"interfaceOptions","ngModel","selectedText","ngModelChange"],[3,"value",4,"ngFor","ngForOf"],["expand","full",3,"click"],[3,"value"]],template:function(i,s){1&i&&(t.TgZ(0,"ion-content",0),t._UZ(1,"img",1),t.TgZ(2,"ion-select",2),t.NdJ("ngModelChange",function(h){return s.city_id=h})("ngModelChange",function(){return s.changeCity()}),t.YNc(3,f,2,2,"ion-select-option",3),t.qZA(),t.TgZ(4,"ion-button",4),t.NdJ("click",function(){return s.save()}),t._uU(5," Guardar "),t.qZA()()),2&i&&(t.xp6(2),t.Q6J("interfaceOptions",s.customAlertOptions)("ngModel",s.city_id)("selectedText",s.city.name),t.xp6(1),t.Q6J("ngForOf",s.cities_array))},dependencies:[g.sg,r.JJ,r.On,c.YG,c.W2,c.t9,c.n0,c.QI]}),e})()}];let v=(()=>{class e{}return e.\u0275fac=function(i){return new(i||e)},e.\u0275mod=t.oAB({type:e}),e.\u0275inj=t.cJS({imports:[d.Bz.forChild(m),d.Bz]}),e})(),S=(()=>{class e{}return e.\u0275fac=function(i){return new(i||e)},e.\u0275mod=t.oAB({type:e}),e.\u0275inj=t.cJS({imports:[g.ez,r.u5,c.Pc,v]}),e})()}}]);