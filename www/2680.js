"use strict";(self.webpackChunkapp=self.webpackChunkapp||[]).push([[2680],{76:(v,m,t)=>{t.d(m,{GW:()=>c,dk:()=>n,oK:()=>i});var i=(()=>{return(e=i||(i={})).Prompt="PROMPT",e.Camera="CAMERA",e.Photos="PHOTOS",i;var e})(),c=(()=>{return(e=c||(c={})).Rear="REAR",e.Front="FRONT",c;var e})(),n=(()=>{return(e=n||(n={})).Uri="uri",e.Base64="base64",e.DataUrl="dataUrl",n;var e})()},2680:(v,m,t)=>{t.d(m,{T:()=>S});var i=t(655),c=t(7423),n=t(76);const e=(0,c.fo)("Camera",{web:()=>t.e(3954).then(t.bind(t,3954)).then(r=>new r.CameraWeb)});var l=t(591),d=t(5e3),b=t(9928);let S=(()=>{class r{constructor(o){this.actionSheetCtrl=o,this.imageSubject=new l.X({})}takePicture(o){return(0,i.mG)(this,void 0,void 0,function*(){try{const a=yield e.getPhoto({quality:60,allowEditing:!1,correctOrientation:!0,promptLabelPhoto:"Elegir de la galer\xeda",promptLabelPicture:"Tomar foto",resultType:n.dk.DataUrl,source:o});this.imageSubject.next(a),this.imageSubject.complete(),this.imageSubject=new l.X({})}catch(a){console.log("Error",a),this.imageSubject.complete(),this.imageSubject=new l.X({})}})}selectImageSource(){return(0,i.mG)(this,void 0,void 0,function*(){const o=[{text:"Tomar foto",icon:"camera",handler:()=>{this.takePicture(n.oK.Camera)}},{text:"Elegir galeria",icon:"image",handler:()=>{this.takePicture(n.oK.Photos)}},{text:"Cancelar",icon:"close",role:"cancel",handler:()=>{this.imageSubject.complete(),this.imageSubject=new l.X({})}}];yield(yield this.actionSheetCtrl.create({mode:"ios",header:"Escoger",buttons:o})).present()})}dataUrlToBlob(o){const a=o.split(","),h=a[0].match(/:(.*?);/)[1],u=atob(a[1]);let s=u.length;const g=new Uint8Array(s);for(;s--;)g[s]=u.charCodeAt(s);return new Blob([g],{type:h})}getFileImage(o,a,h,u){const s=u?h:`image/${h}`;return new File([this.dataUrlToBlob(o)],a,{type:s})}}return r.\u0275fac=function(o){return new(o||r)(d.LFG(b.BX))},r.\u0275prov=d.Yz7({token:r,factory:r.\u0275fac,providedIn:"root"}),r})()}}]);