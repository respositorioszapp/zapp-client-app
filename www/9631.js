"use strict";(self.webpackChunkapp=self.webpackChunkapp||[]).push([[9631],{3214:(b,m,o)=>{o.d(m,{P:()=>P});var e=o(5e3),n=o(7556),u=o(3769),p=o(9808),d=o(9928);function _(c,r){1&c&&(e.TgZ(0,"ion-thumbnail",3),e._UZ(1,"ion-skeleton-text",4),e.qZA())}function a(c,r){if(1&c){const i=e.EpF();e.TgZ(0,"ion-slide",7),e.NdJ("click",function(){const t=e.CHM(i).$implicit,l=e.oxw(2);return e.KtG(l.showProducts(t))}),e.TgZ(1,"ion-thumbnail",8),e._UZ(2,"img",9),e.qZA()()}if(2&c){const i=r.$implicit;e.xp6(2),e.Q6J("src",i.url_image_banner,e.LSH)}}function h(c,r){if(1&c&&(e.TgZ(0,"ion-slides",5),e.YNc(1,a,3,1,"ion-slide",6),e.qZA()),2&c){const i=e.oxw();e.Q6J("options",i.slideOpts4),e.xp6(1),e.Q6J("ngForOf",i.banners)}}let P=(()=>{class c{constructor(i,g){this.auth=i,this.router=g,this.slideOpts4={initialSlide:0,speed:400,slidesPerView:1,autoplay:{delay:1e4}}}ngOnInit(){console.log("Banners Loading",this.banners_loading)}showProducts(i){const g=i.id?i.id:Number(i.seller_id);0!=g&&(localStorage.setItem("back_route","tabs/home"),this.auth.setBack(!0),this.router.navigate(["tabs/show-products/"+g]))}}return c.\u0275fac=function(i){return new(i||c)(e.Y36(n.e),e.Y36(u.F0))},c.\u0275cmp=e.Xpm({type:c,selectors:[["app-banners"]],inputs:{banners:"banners",banners_loading:"banners_loading"},decls:4,vars:2,consts:[["size","12",1,"ion-no-padding"],["class","ion-text-center","style","display: block;width: 100%;height: 120px",4,"ngIf"],[3,"options",4,"ngIf"],[1,"ion-text-center",2,"display","block","width","100%","height","120px"],["animated",""],[3,"options"],["style","max-height: 120px;",3,"click",4,"ngFor","ngForOf"],[2,"max-height","120px",3,"click"],[1,"banner"],["alt","","srcset","",3,"src"]],template:function(i,g){1&i&&(e.TgZ(0,"ion-row")(1,"ion-col",0),e.YNc(2,_,2,0,"ion-thumbnail",1),e.YNc(3,h,2,2,"ion-slides",2),e.qZA()()),2&i&&(e.xp6(2),e.Q6J("ngIf",g.banners_loading),e.xp6(1),e.Q6J("ngIf",!g.banners_loading))},dependencies:[p.sg,p.O5,d.wI,d.Nd,d.CK,d.A$,d.Hr,d.Bs],styles:[".banner[_ngcontent-%COMP%]{width:90%;background-repeat:no-repeat;background-size:100%;background-position:center;height:100%;border-radius:30px}.banner[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{display:block;width:100%;height:120px;-o-object-fit:contain;object-fit:initial;border-radius:30px}"]}),c})()},9631:(b,m,o)=>{o.r(m),o.d(m,{FiltersPageModule:()=>c});var e=o(9808),n=o(4182),u=o(9928),p=o(3769),d=o(9544),_=o(5e3);const a=[{path:"",component:d.r}];let h=(()=>{class r{}return r.\u0275fac=function(g){return new(g||r)},r.\u0275mod=_.oAB({type:r}),r.\u0275inj=_.cJS({imports:[p.Bz.forChild(a),p.Bz]}),r})();var P=o(8412);let c=(()=>{class r{}return r.\u0275fac=function(g){return new(g||r)},r.\u0275mod=_.oAB({type:r}),r.\u0275inj=_.cJS({imports:[e.ez,n.u5,u.Pc,h,P.j]}),r})()},9544:(b,m,o)=>{o.d(m,{r:()=>r});var e=o(655),n=o(5e3),u=o(1892),p=o(1335),d=o(9808),_=o(4182),a=o(9928),h=o(3214);const P=function(i){return{"category-selected":i}};function c(i,g){if(1&i){const s=n.EpF();n.ynx(0),n.TgZ(1,"ion-slide",23),n.NdJ("click",function(){const f=n.CHM(s).$implicit,M=n.oxw();return n.KtG(M.selectCategory(f))}),n.TgZ(2,"ion-grid")(3,"ion-row")(4,"ion-col",24)(5,"ion-thumbnail"),n._UZ(6,"ion-img",25),n.qZA()()(),n.TgZ(7,"ion-row",26)(8,"ion-col",24)(9,"ion-label",27),n._uU(10),n.qZA()()()()(),n.BQk()}if(2&i){const s=g.$implicit,t=n.oxw();n.xp6(1),n.Q6J("ngClass",n.VKq(3,P,s.id==t.category)),n.xp6(5),n.Q6J("src",s.image?s.image.src:""),n.xp6(4),n.Oqu(s.name)}}let r=(()=>{class i{constructor(s,t){this.ui=s,this.request=t,this.slideOpts2={initialSlide:0,speed:400,slidesPerView:4},this.slideOpts3={initialSlide:0,speed:400,slidesPerView:4},this.array2=[{image:"assets/imgs/promotions.png",text:"Promociones",type:"image",route:"tabs/offers"},{image:"assets/imgs/zapp-m.png",text:"Mensajer\xeda",type:"image",route:"tabs/transport-type"},{image:"assets/imgs/trending.png",text:"Tendencias",type:"image"},{image:"assets/imgs/new-products.png",text:"Lo nuevo",type:"image"}],this.max=1e3,this.min=1e3,this.category=0,this.categories=[],this.filters={search:null,category:null,min_price:null,max_price:null,attribute:null,attribute_term:null},this.banners=[],this.banners_loading=!1}ngOnInit(){this.slideOpts2.slidesPerView=4}get categoriesSorted(){const s=this.categories.find(t=>t.id==this.filters.search);return s?[s,...this.categories.filter(t=>t.id!=s.id)]:this.categories}ionViewWillEnter(){return(0,e.mG)(this,void 0,void 0,function*(){console.log("Ion Cycle Will enter"),this.slideOpts2={initialSlide:0,speed:400,slidesPerView:4},localStorage.getItem("filters")&&(this.filters=JSON.parse(localStorage.getItem("filters")),this.category=this.filters.category,this.min=null!=this.filters.min_price&&this.filters.min_price>1e3?this.filters.min_price:1e3,this.max=null!=this.filters.max_price&&this.filters.max_price>1e3?this.filters.max_price:1e3);const s=yield this.ui.loading("Por favor espere...");this.request.get("/?option=products/categories&page=1&per_page=100",!0).subscribe(t=>(0,e.mG)(this,void 0,void 0,function*(){console.log("Categor\xedas",t),t.data=t.data.filter(l=>15!=l.id),t.data=t.data.map(l=>{switch(l.id){case 107:l.icon="casera";break;case 106:l.icon="hamburger-r";break;case 115:l.icon="shops";break;default:l.icon="home"}return l}),this.categories=t.data.filter(l=>0!=l.parent),(yield s).dismiss()}),t=>(0,e.mG)(this,void 0,void 0,function*(){(yield s).dismiss(),console.log("Err",t)})),this.banners_loading=!0,this.request.get("/?option=banners&page=1&per_page=10",!0).subscribe(t=>{this.banners_loading=!1,this.banners=t.data},t=>{this.banners_loading=!1})})}selectCategory(s){console.log("Category",s),this.category=s.id}dismiss(s){this.ui.dismiss(s)}applyFilters(){this.filters.min_price=null!=this.min&&this.min>1e3?this.min:null,this.filters.max_price=null!=this.max&&this.max>1e3?this.max:null,this.filters.category=null!=this.category&&0!=this.category?this.category:null,console.log("Filters",this.filters),localStorage.setItem("filters",JSON.stringify(this.filters)),this.dismiss()}clearFilter(){this.filters={search:null,category:null,min_price:null,max_price:null,attribute:null,attribute_term:null},this.min=1e3,this.max=1e3,this.category=0,localStorage.removeItem("filters"),this.dismiss()}}return i.\u0275fac=function(s){return new(s||i)(n.Y36(u.F),n.Y36(p.s))},i.\u0275cmp=n.Xpm({type:i,selectors:[["app-filters"]],decls:48,vars:10,consts:[["mode","ios",1,"primary-yellow-background","rounded-toolbar",2,"position","relative"],["lines","none",1,"primary-yellow-background"],[1,"primary-yellow-background",3,"click"],["slot","start","name","arrow-back-outline"],["src","assets/imgs/logo zapp.png",1,"ion-text-center",2,"width","100px","height","60px","margin","auto"],[3,"banners","banners_loading"],[1,"subtitle"],[2,"width","90%","margin","auto"],["size","9"],["lines","none",1,"ion-no-padding","price-item"],["min","1000","max","100000","mode","ios","color","primary","step","1000",3,"ngModel","ngModelChange"],["slot","start"],["slot","end"],["size","3"],["lines","none"],["max","100000","color","primary","mode","ios","step","1000",3,"min","ngModel","ngModelChange"],[1,"ion-text-center",2,"width","100%"],["fill","clear",1,"button-clear",3,"click"],[1,"title",2,"margin-left","5px"],["size","12",2,"margin","auto"],[3,"options"],[4,"ngFor","ngForOf"],["color","primary","expand","block",3,"click"],[1,"slide-categories",3,"ngClass","click"],["size","12"],[3,"src"],[1,"reversed-top"],[2,"font-size","1em"]],template:function(s,t){1&s&&(n.TgZ(0,"ion-toolbar",0)(1,"ion-item",1)(2,"ion-button",2),n.NdJ("click",function(){return t.dismiss({cancel:!0})}),n._UZ(3,"ion-icon",3),n.qZA(),n.TgZ(4,"ion-title"),n._UZ(5,"ion-img",4),n.qZA()()(),n.TgZ(6,"ion-content"),n._UZ(7,"app-banners",5),n.TgZ(8,"ion-row")(9,"h6",6),n._uU(10,"Precio m\xednimo"),n.qZA(),n.TgZ(11,"ion-row",7)(12,"ion-col",8)(13,"ion-item",9)(14,"ion-range",10),n.NdJ("ngModelChange",function(f){return t.min=f}),n.TgZ(15,"ion-label",11),n._uU(16,"1000"),n.qZA(),n.TgZ(17,"ion-label",12),n._uU(18,"100000"),n.qZA()()()(),n.TgZ(19,"ion-col",13)(20,"ion-item",14)(21,"ion-label"),n._uU(22),n.qZA()()()(),n.TgZ(23,"h6",6),n._uU(24,"Precio m\xe1ximo"),n.qZA(),n.TgZ(25,"ion-row",7)(26,"ion-col",8)(27,"ion-item",9)(28,"ion-range",15),n.NdJ("ngModelChange",function(f){return t.max=f}),n.TgZ(29,"ion-label",11),n._uU(30),n.qZA(),n.TgZ(31,"ion-label",12),n._uU(32,"100000"),n.qZA()()()(),n.TgZ(33,"ion-col",13)(34,"ion-item",14)(35,"ion-label"),n._uU(36),n.qZA()()()(),n.TgZ(37,"ion-row",16)(38,"ion-button",17),n.NdJ("click",function(){return t.clearFilter()}),n._uU(39," Limpiar Filtros "),n.qZA()(),n.TgZ(40,"h5",18),n._uU(41,"Categor\xedas"),n.qZA(),n.TgZ(42,"ion-col",19)(43,"ion-slides",20),n.YNc(44,c,11,5,"ng-container",21),n.qZA()()()(),n.TgZ(45,"ion-footer")(46,"ion-button",22),n.NdJ("click",function(){return t.applyFilters()}),n._uU(47," Aplicar "),n.qZA()()),2&s&&(n.xp6(7),n.Q6J("banners",t.banners)("banners_loading",t.banners_loading),n.xp6(7),n.Q6J("ngModel",t.min),n.xp6(8),n.hij(" ",t.min," "),n.xp6(6),n.Q6J("min",t.min)("ngModel",t.max),n.xp6(2),n.Oqu(t.min),n.xp6(6),n.hij(" ",t.max," "),n.xp6(7),n.Q6J("options",t.slideOpts3),n.xp6(1),n.Q6J("ngForOf",t.categories))},dependencies:[d.mk,d.sg,_.JJ,_.On,a.YG,a.wI,a.W2,a.fr,a.jY,a.gu,a.Xz,a.Ie,a.Q$,a.I_,a.Nd,a.A$,a.Hr,a.Bs,a.sr,a.wd,a.QI,h.P],styles:[".category-selected[_ngcontent-%COMP%]{background:#69019c!important;color:#b1ff00!important}.rounded-toolbar[_ngcontent-%COMP%]{border-bottom-left-radius:20px;border-bottom-right-radius:20px}.rounded-toolbar[_ngcontent-%COMP%]   ion-button[_ngcontent-%COMP%]{--color: blueviolet}.subtitle[_ngcontent-%COMP%]{margin-left:10px;font-weight:700}.button-clear[_ngcontent-%COMP%]{margin:10px auto;background:#a1e110;border-radius:20px;padding:10px;text-transform:capitalize}.price-item[_ngcontent-%COMP%]{width:100%;padding:5px;background:#f2f2f2;border-radius:20px;--padding-end: 0px;--inner-padding-end: 0px}.price-item[_ngcontent-%COMP%]   ion-range[_ngcontent-%COMP%]{background:#f2f2f2;width:100%;--knob-size: 20px}.slide-categories[_ngcontent-%COMP%]{min-height:93px;min-width:100px;max-width:30%;border-radius:10px}.slide-categories[_ngcontent-%COMP%]   ion-grid[_ngcontent-%COMP%]{padding:0}.slide-categories[_ngcontent-%COMP%]   ion-grid[_ngcontent-%COMP%]   ion-row[_ngcontent-%COMP%]{padding:0}.slide-categories[_ngcontent-%COMP%]   ion-grid[_ngcontent-%COMP%]   ion-row.reversed-top[_ngcontent-%COMP%]{margin-top:-10px}.slide-categories[_ngcontent-%COMP%]   ion-grid[_ngcontent-%COMP%]   ion-row.reversed-top[_ngcontent-%COMP%]   ion-label[_ngcontent-%COMP%]{font-size:.65em!important}.slide-categories[_ngcontent-%COMP%]   ion-grid[_ngcontent-%COMP%]   ion-row[_ngcontent-%COMP%]   ion-col[_ngcontent-%COMP%]   ion-thumbnail[_ngcontent-%COMP%]{border-radius:20px;width:100%;min-width:91px;--border-radius: 20px;height:90px;max-height:90px}.slide-categories[_ngcontent-%COMP%]   ion-grid[_ngcontent-%COMP%]   ion-row[_ngcontent-%COMP%]   ion-col[_ngcontent-%COMP%]   ion-thumbnail[_ngcontent-%COMP%]   ion-img[_ngcontent-%COMP%]{width:100%;border-radius:10px;height:100%;-o-object-fit:cover;object-fit:cover;-o-object-position:center;object-position:center}.slide-categories[_ngcontent-%COMP%]   ion-grid[_ngcontent-%COMP%]   ion-row[_ngcontent-%COMP%]   ion-col[_ngcontent-%COMP%]   ion-thumbnail[_ngcontent-%COMP%]   ion-img[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:auto!important;max-width:100%}.slide-categories[_ngcontent-%COMP%]   ion-grid[_ngcontent-%COMP%]   ion-row[_ngcontent-%COMP%]   ion-col[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{height:50px;max-height:50px;min-height:50px;width:100%;min-width:90px;border-radius:20px}"]}),i})()}}]);