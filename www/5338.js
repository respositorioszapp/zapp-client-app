"use strict";(self.webpackChunkapp=self.webpackChunkapp||[]).push([[5338],{4008:(oe,V,u)=>{u.d(V,{R:()=>_});var i=u(5e3),s=u(1892),R=u(9099),j=u(9808),k=u(9928);function F(d,b){1&d&&(i.ynx(0),i.TgZ(1,"ion-item",14)(2,"ion-button",15),i._uU(3," Vuelta "),i.qZA()(),i.BQk())}function e(d,b){if(1&d&&(i.TgZ(0,"div",16)(1,"div",17),i._uU(2),i.qZA()()),2&d){const c=i.oxw().$implicit;i.xp6(2),i.lnq("",c.timer.hours>9?c.timer.hours:"0"+c.timer.hours,":",c.timer.minutes>9?c.timer.minutes:"0"+c.timer.minutes,":",c.timer.seconds>9?c.timer.seconds:"0"+c.timer.seconds,"")}}function Q(d,b){if(1&d&&(i.ynx(0),i.TgZ(1,"div")(2,"p",18),i._uU(3),i.ALo(4,"currency"),i.qZA()(),i.BQk()),2&d){const c=i.oxw().$implicit;i.xp6(3),i.hij("Total:",i.gM2(4,1,c.total_charge,"","symbol","1.0"),"")}}function T(d,b){if(1&d&&(i.TgZ(0,"div",8)(1,"div"),i._UZ(2,"i",9),i._uU(3),i.qZA(),i.TgZ(4,"div",10),i.YNc(5,F,4,0,"ng-container",11),i.TgZ(6,"h2"),i._uU(7),i.qZA(),i.TgZ(8,"h4",12)(9,"span"),i._uU(10),i.qZA()(),i.TgZ(11,"p"),i._uU(12),i.qZA(),i.TgZ(13,"p"),i._uU(14),i.qZA(),i.YNc(15,e,3,3,"div",13),i.YNc(16,Q,5,6,"ng-container",11),i.qZA()()),2&d){const c=b.$implicit,P=b.index,M=i.oxw(2);i.xp6(1),i.Tol("timeline-icon "+M.store_states[c.status].class),i.xp6(2),i.hij("",P+1," "),i.xp6(2),i.Q6J("ngIf",1==M.order.round_trip&&P==M.order.details.length-1),i.xp6(2),i.hij("Novedad ",c.id,""),i.xp6(2),i.Tol("badge "+M.store_states[c.status].class),i.xp6(1),i.Oqu(M.store_states[c.status].message),i.xp6(2),i.Oqu(c.address),i.xp6(2),i.Oqu(c.description),i.xp6(1),i.Q6J("ngIf",c.timer),i.xp6(1),i.Q6J("ngIf",1==M.order.diligence)}}function E(d,b){if(1&d&&(i.ynx(0),i.YNc(1,T,17,12,"div",7),i.BQk()),2&d){const c=i.oxw();i.xp6(1),i.Q6J("ngForOf",c.order.details)}}function z(d,b){1&d&&(i.ynx(0),i.TgZ(1,"ion-button",19),i._uU(2," Vuelta "),i.qZA(),i.BQk())}function Z(d,b){if(1&d&&(i.ynx(0),i.TgZ(1,"div")(2,"p",20),i._uU(3),i.qZA(),i.TgZ(4,"p",18),i._uU(5),i.ALo(6,"currency"),i.qZA()(),i.BQk()),2&d){const c=i.oxw().$implicit;i.xp6(3),i.hij("Tiempo de espera:",c.wait_time," minutos"),i.xp6(2),i.hij("Total:",i.gM2(6,2,c.surplus_money,"","symbol","1.0"),"")}}function v(d,b){if(1&d&&(i.TgZ(0,"div",8)(1,"div"),i._UZ(2,"i",9),i._uU(3),i.qZA(),i.TgZ(4,"div",10),i.YNc(5,z,3,0,"ng-container",11),i.TgZ(6,"h2"),i._uU(7),i.qZA(),i.TgZ(8,"h4",12)(9,"span"),i._uU(10),i.qZA()(),i.TgZ(11,"p"),i._uU(12),i.qZA(),i.TgZ(13,"p"),i._uU(14),i.qZA(),i.YNc(15,Z,7,7,"ng-container",11),i.qZA()()),2&d){const c=b.$implicit,P=b.index,M=i.oxw(2);i.xp6(1),i.Tol("timeline-icon "+M.store_states[c.status].class),i.xp6(2),i.hij("",P+1," "),i.xp6(2),i.Q6J("ngIf",1==M.order.round_trip&&P==M.order.details.length-1),i.xp6(2),i.hij("Novedad ",c.id,""),i.xp6(2),i.Tol("badge "+M.store_states[c.status].class),i.xp6(1),i.Oqu(M.store_states[c.status].message),i.xp6(2),i.Oqu(c.address),i.xp6(2),i.Oqu(c.description),i.xp6(1),i.Q6J("ngIf",1==M.order.diligence)}}function O(d,b){if(1&d&&i.YNc(0,v,16,11,"div",7),2&d){const c=i.oxw();i.Q6J("ngForOf",c.order.details)}}let _=(()=>{class d{constructor(c,P){this.ui=c,this.realtime=P,this.store_states={52:{message:"Tu orden ha sido recibida y pronto ser\xe1 confirmada.",json:"/assets/lottie-files/1-confirmed.json",state:52},53:{message:"Tu orden ha sido confirmada y se est\xe1 preparando.",json:"/assets/lottie-files/2-order-packed.json",state:53,icon:"order-inproccess"},54:{message:"El mensajero va en camino a tu ubicaci\xf3n. ",json:"/assets/lottie-files/3-delivery-riding.json",state:54,icon:"deliverygo"},55:{message:"\xa1El mensajero ha llegado! Recibe tu pedido. ",json:"/assets/lottie-files/4-food-delivery.json",state:55,icon:"delivery-location"},57:{message:"La orden ha sido finalizada",json:"/assets/lottie-files/4-food-delivery.json",state:57,icon:"delivery-location"},58:{message:"La orden fue cancelada",json:"/assets/lottie-files/4-food-delivery.json",state:58,icon:"delivery-location"},59:{message:"Ubicando el repartidor m\xe1s cercano...",json:"/assets/lottie-files/4-food-delivery.json",state:58,icon:"delivery-location"},22:{message:"No Asignada",state:22,class:"danger"},24:{message:"En proceso",state:24,class:"in-proccess"},25:{message:"Finalizada",state:25,class:"success"},31:{message:"Cancelada",state:31,class:"warning"},36:{message:"Cancelada por mensajero",state:36,class:"danger"},48:{message:"Orden no efectiva",state:48,color:"dark"}}}ngOnInit(){this.order.details||(this.order.details=this.order.detail)}ionViewWillEnter(){this.order.details||(this.order.details=this.order.detail),this.orderActive&&this.realtime.getFirebaseCollectionList(`order_detail_report/${this.order.id}`).subscribe(c=>{null!=c&&(c.length>0?c.forEach(P=>{let M=this.order.details.findIndex(S=>S.id==P.id);if(-1!=M){const S=P.timer?P.timer.minutes:0,ee=P.total_charge?Number(P.total_charge):0;this.order.details[M]=Object.assign(Object.assign({},P),{wait_time:S,surplus_money:ee}),console.log("Order Details",this.order.details)}else console.log("No encontrado")}):console.log("Array vac\xedo"))})}get orderActive(){return 31!=this.order.status_order&&48!=this.order.status_order&&25!=this.order.status_order&&36!=this.order.status_order}dismiss(){this.ui.dismiss()}}return d.\u0275fac=function(c){return new(c||d)(i.Y36(s.F),i.Y36(R.i))},d.\u0275cmp=i.Xpm({type:d,selectors:[["app-order-detail-timeline"]],inputs:{order:"order"},decls:11,vars:3,consts:[["color","primary","mode","ios",2,"position","relative"],[2,"position","absolute","left","5px","bottom","14px"],[2,"position","absolute","right","5px","bottom","5px",3,"click"],["slot","icon-only","name","close-outline"],[1,"timeline"],[4,"ngIf","ngIfElse"],["elseTemplate",""],["class","timeline-container ",4,"ngFor","ngForOf"],[1,"timeline-container"],[1,"far","fa-grin-wink"],[1,"timeline-body"],[4,"ngIf"],[1,"timeline-title"],["class","time",4,"ngIf"],["lines","none",1,"ion-no-padding"],["fill","clear","slot","end"],[1,"time"],["id","hms"],[1,"ion-text-justify","grey-color-text"],["fill","clear"],[1,"ion-text-justify","black-color-text"]],template:function(c,P){if(1&c&&(i.TgZ(0,"ion-header")(1,"ion-toolbar",0)(2,"ion-title",1),i._uU(3),i.qZA(),i.TgZ(4,"ion-button",2),i.NdJ("click",function(){return P.dismiss()}),i._UZ(5,"ion-icon",3),i.qZA()()(),i.TgZ(6,"ion-content")(7,"div",4),i.YNc(8,E,2,1,"ng-container",5),i.YNc(9,O,1,1,"ng-template",null,6,i.W1O),i.qZA()()),2&c){const M=i.MAs(10);i.xp6(3),i.hij("Orden #",P.order.id," "),i.xp6(5),i.Q6J("ngIf",25!=P.order.status_order&&48!=P.order.status_order)("ngIfElse",M)}},dependencies:[j.sg,j.O5,k.YG,k.W2,k.Gu,k.gu,k.Ie,k.sr,k.wd,j.H9],styles:['@import"https://fonts.googleapis.com/css?family=Niramit:300,300i,700";ion-content[_ngcontent-%COMP%]{--background: #f2f2f2}*[_ngcontent-%COMP%]{margin:0;padding:0;box-sizing:border-box}body[_ngcontent-%COMP%]{font-family:K2D,sans-serif;background:#1e1e2f;letter-spacing:1px}.container[_ngcontent-%COMP%]{max-width:650px;margin:50px auto}p[_ngcontent-%COMP%]{font-weight:300;line-height:1.5;font-size:14px;opacity:.8}.timeline[_ngcontent-%COMP%]{position:relative;padding-left:2.45rem;margin:4px 0 0 23px;color:#222428}.timeline[_ngcontent-%COMP%]:before{content:"";position:absolute;left:0;top:0;width:4px;height:100%;background:rgba(195,194,195,.4901960784)}.timeline[_ngcontent-%COMP%]   .timeline-container[_ngcontent-%COMP%]{position:relative;margin-bottom:2.5rem}.timeline[_ngcontent-%COMP%]   .timeline-container[_ngcontent-%COMP%]   .timeline-icon[_ngcontent-%COMP%]{position:absolute;left:-55px;top:10px;width:35px;height:35px;border-radius:50%;text-align:center;font-size:1rem;padding:8px;color:#fff;background-color:#49158c}.timeline[_ngcontent-%COMP%]   .timeline-container[_ngcontent-%COMP%]   .timeline-icon[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{position:absolute;left:50%;top:50%;transform:translate(-50%,-50%)}.timeline[_ngcontent-%COMP%]   .timeline-container[_ngcontent-%COMP%]   .timeline-icon[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:100%;height:100%;border-radius:50%}.timeline[_ngcontent-%COMP%]   .timeline-container[_ngcontent-%COMP%]   .timeline-body[_ngcontent-%COMP%]{background:rgb(255,255,255);border-radius:3px;padding:20px 20px 15px;box-shadow:10px 7px 9px #0000001a}.timeline[_ngcontent-%COMP%]   .timeline-container[_ngcontent-%COMP%]   .timeline-body[_ngcontent-%COMP%]:before{content:"";background:inherit;width:20px;height:20px;display:block;position:absolute;left:-10px;transform:rotate(45deg);border-radius:0 0 0 2px}.timeline[_ngcontent-%COMP%]   .timeline-container[_ngcontent-%COMP%]   .timeline-body[_ngcontent-%COMP%]   .timeline-title[_ngcontent-%COMP%]{margin-bottom:1.4rem}.timeline[_ngcontent-%COMP%]   .timeline-container[_ngcontent-%COMP%]   .timeline-body[_ngcontent-%COMP%]   .timeline-title[_ngcontent-%COMP%]   .badge[_ngcontent-%COMP%]{background:#2dd36f!important;padding:4px 8px;border-radius:3px;font-size:12px;font-weight:700;color:#fff}.timeline[_ngcontent-%COMP%]   .timeline-container[_ngcontent-%COMP%]   .timeline-body[_ngcontent-%COMP%]   .timeline-subtitle[_ngcontent-%COMP%]{font-weight:300;font-style:italic;opacity:.4;margin-top:16px;font-size:11px}.author[_ngcontent-%COMP%]{font-family:inherit;padding:3em;text-align:center;width:100%;color:#fff}.author[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:link, .author[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:visited{color:#fff}.author[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:link:hover, .author[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:visited:hover{text-decoration:none}.author[_ngcontent-%COMP%]   .btn[_ngcontent-%COMP%]:link, .author[_ngcontent-%COMP%]   .btn[_ngcontent-%COMP%]:visited{margin-top:1em;text-decoration:none;display:inline-block;font-family:inherit;font-weight:100;color:#fff;text-align:center;vertical-align:middle;-webkit-user-select:none;-moz-user-select:none;user-select:none;background-color:#000;padding:1.5em 2rem;border-radius:1em;transition:.5s all}.author[_ngcontent-%COMP%]   .btn[_ngcontent-%COMP%]:link:hover, .author[_ngcontent-%COMP%]   .btn[_ngcontent-%COMP%]:link:focus, .author[_ngcontent-%COMP%]   .btn[_ngcontent-%COMP%]:link:active, .author[_ngcontent-%COMP%]   .btn[_ngcontent-%COMP%]:visited:hover, .author[_ngcontent-%COMP%]   .btn[_ngcontent-%COMP%]:visited:focus, .author[_ngcontent-%COMP%]   .btn[_ngcontent-%COMP%]:visited:active{background-color:#1a1a1a}.time[_ngcontent-%COMP%]{height:47px;display:flex;justify-content:center;background:white}.time[_ngcontent-%COMP%]   ion-button[_ngcontent-%COMP%]{z-index:1}.time[_ngcontent-%COMP%]   #hms[_ngcontent-%COMP%]{color:#000;font-size:2em;z-index:1;letter-spacing:8px}']}),d})()},8785:(oe,V,u)=>{u.d(V,{W:()=>z});var i=u(655),s=u(5e3),R=u(1892),j=u(1335),k=u(7556),F=u(8337),e=u(9808),Q=u(4182),T=u(9928);const E=function(Z){return{yellow:Z}};let z=(()=>{class Z{constructor(O,_,d,b){this.ui=O,this.request=_,this.auth=d,this.error=b,this.qualification={one:!1,two:!1,three:!1,four:!1,five:!1},this.opinion=""}ngOnInit(){console.log("Driver",this.driver)}dismiss(){this.ui.dismiss({},"QualificationPage")}star(O){Object.keys(this.qualification).forEach(_=>{this.qualification[_]=!1}),Object.keys(this.qualification).forEach(_=>{switch(O){case"one":this.qualification[O]=!0;break;case"two":this.qualification.one=!0,this.qualification[O]=!0;break;case"three":this.qualification.one=!0,this.qualification.two=!0,this.qualification[O]=!0;break;case"four":this.qualification.one=!0,this.qualification.two=!0,this.qualification.three=!0,this.qualification[O]=!0;break;case"five":this.qualification.one=!0,this.qualification.two=!0,this.qualification.three=!0,this.qualification.four=!0,this.qualification[O]=!0}})}scoreIt(){return(0,i.mG)(this,void 0,void 0,function*(){let O=0;if(Object.keys(this.qualification).forEach(_=>{this.qualification[_]&&O++}),O>0){const _={user_id:this.driver.driver_id,customer_id:this.auth.user.id,order_id:this.order.id,score:O,description:this.opinion},d=yield this.ui.loading("Por favor espere...");this.request.post("score/rate_user",_).subscribe(b=>(0,i.mG)(this,void 0,void 0,function*(){(yield d).dismiss(),this.order.score_service=O,this.dismiss()}),b=>(0,i.mG)(this,void 0,void 0,function*(){(yield d).dismiss(),this.error.response(b)})),console.log("Score",O),console.log("Opinion",this.opinion)}else yield this.ui.presentAlert({mode:"ios",header:"Debe poner una calificaci\xf3n ",buttons:[{text:"Aceptar",role:"cancel",cssClass:"secondary",handler:_=>{}}]})})}}return Z.\u0275fac=function(O){return new(O||Z)(s.Y36(R.F),s.Y36(j.s),s.Y36(k.e),s.Y36(F.Y))},Z.\u0275cmp=s.Xpm({type:Z,selectors:[["app-qualification"]],inputs:{order:"order",driver:"driver"},decls:35,vars:24,consts:[["mode","ios",2,"position","relative"],[2,"position","absolute","left","5px","bottom","14px"],[1,"ion-text-center"],[2,"width","80%","height","fit-content","position","absolute","top","0","left","0","right","0","bottom","0","margin","auto","text-align","center","justify-content","center"],[2,"text-align","center","margin","auto","width","80%","display","flex","justify-content","center"],[1,"ion-text-center",2,"width","200px","height","200px","padding","10px","border","0.5px solid #cccccc"],[3,"src"],[1,"ion-text-uppercase",2,"font-weight","bold","margin-top","10px"],["size","2",3,"click"],[2,"font-size","2em","color","#b8bac0","transition","color ease 1s",3,"name","ngClass"],[3,"click"],[2,"text-align","start","border","0.5px solid #ccc","border-radius","20px","padding","5px",3,"ngModel","ngModelChange"],[2,"display","flex"],["color","primary","fill","outline",2,"width","50%",3,"click"],["color","primary",2,"width","50%",3,"click"]],template:function(O,_){1&O&&(s.TgZ(0,"ion-header")(1,"ion-toolbar",0)(2,"ion-title",1),s._uU(3,"Calificar "),s.qZA()()(),s.TgZ(4,"ion-content")(5,"h3",2),s._uU(6),s.qZA(),s.TgZ(7,"div",3)(8,"div",4)(9,"ion-avatar",5),s._UZ(10,"ion-img",6),s.qZA()(),s.TgZ(11,"ion-title",7),s._uU(12),s.qZA(),s.TgZ(13,"div")(14,"ion-grid")(15,"ion-row")(16,"ion-col",8),s.NdJ("click",function(){return _.star("one")}),s._UZ(17,"ion-icon",9),s.qZA(),s.TgZ(18,"ion-col",10),s.NdJ("click",function(){return _.star("two")}),s._UZ(19,"ion-icon",9),s.qZA(),s.TgZ(20,"ion-col",10),s.NdJ("click",function(){return _.star("three")}),s._UZ(21,"ion-icon",9),s.qZA(),s.TgZ(22,"ion-col",10),s.NdJ("click",function(){return _.star("four")}),s._UZ(23,"ion-icon",9),s.qZA(),s.TgZ(24,"ion-col",10),s.NdJ("click",function(){return _.star("five")}),s._UZ(25,"ion-icon",9),s.qZA()()()(),s.TgZ(26,"h4"),s._uU(27,"Opini\xf3n"),s.qZA(),s.TgZ(28,"ion-textarea",11),s.NdJ("ngModelChange",function(b){return _.opinion=b}),s.qZA()()(),s.TgZ(29,"ion-footer")(30,"div",12)(31,"ion-button",13),s.NdJ("click",function(){return _.dismiss()}),s._uU(32,"Cancelar"),s.qZA(),s.TgZ(33,"ion-button",14),s.NdJ("click",function(){return _.scoreIt()}),s._uU(34,"Calificar"),s.qZA()()()),2&O&&(s.xp6(6),s.hij("ORDEN #",_.order.id,""),s.xp6(4),s.Q6J("src",_.driver.photo_driver?_.driver.photo_driver:"assets/imgs/avatar.svg"),s.xp6(2),s.Oqu(_.driver.driver_name),s.xp6(5),s.Q6J("name",_.qualification.one?"star":"star-outline")("ngClass",s.VKq(14,E,_.qualification.one)),s.xp6(2),s.Q6J("name",_.qualification.two?"star":"star-outline")("ngClass",s.VKq(16,E,_.qualification.two)),s.xp6(2),s.Q6J("name",_.qualification.three?"star":"star-outline")("ngClass",s.VKq(18,E,_.qualification.three)),s.xp6(2),s.Q6J("name",_.qualification.four?"star":"star-outline")("ngClass",s.VKq(20,E,_.qualification.four)),s.xp6(2),s.Q6J("name",_.qualification.five?"star":"star-outline")("ngClass",s.VKq(22,E,_.qualification.five)),s.xp6(3),s.Q6J("ngModel",_.opinion))},dependencies:[e.mk,Q.JJ,Q.On,T.BJ,T.YG,T.wI,T.W2,T.fr,T.jY,T.Gu,T.gu,T.Xz,T.Nd,T.g2,T.sr,T.wd,T.j9],styles:[".yellow[_ngcontent-%COMP%]{color:#ff0!important}"]}),Z})()},5338:(oe,V,u)=>{u.d(V,{G:()=>Ze});var i=u(655),s=u(6090),R=u(3866),j=u(7282),k=u(8785),F=u(4008),e=u(5e3),Q=u(1892),T=u(1335),E=u(7556),z=u(9099),Z=u(9808),v=u(9928);function O(n,g){if(1&n){const t=e.EpF();e.TgZ(0,"ion-fab",15),e.NdJ("click",function(){e.CHM(t);const r=e.oxw(2);return e.KtG(r.cancel())}),e.TgZ(1,"ion-fab-button",16),e._UZ(2,"ion-icon",3),e.qZA()()}}function _(n,g){if(1&n){const t=e.EpF();e.ynx(0)(1),e.YNc(2,O,3,0,"ion-fab",9),e.TgZ(3,"ion-fab",10),e.NdJ("click",function(){e.CHM(t);const r=e.oxw();return e.KtG(r.viewEvent(r.order))}),e.TgZ(4,"ion-fab-button",11),e._UZ(5,"ion-icon",12),e.qZA()(),e.BQk(),e._UZ(6,"div",13,14),e.BQk()}if(2&n){const t=e.oxw();e.xp6(2),e.Q6J("ngIf",22==t.order.status_order)}}function d(n,g){if(1&n){const t=e.EpF();e.TgZ(0,"ion-fab",15),e.NdJ("click",function(){e.CHM(t);const r=e.oxw(2);return e.KtG(r.cancel())}),e.TgZ(1,"ion-fab-button",16),e._UZ(2,"ion-icon",3),e.qZA()()}}function b(n,g){if(1&n){const t=e.EpF();e.TgZ(0,"ion-item",21)(1,"ion-label"),e._uU(2),e.qZA(),e.TgZ(3,"ion-button",22),e.NdJ("click",function(){const l=e.CHM(t).$implicit,a=e.oxw(2);return e.KtG(a.openDialog(l))}),e._UZ(4,"ion-icon",23),e.qZA()()}if(2&n){const t=g.$implicit;e.xp6(2),e.Oqu(t.driver)}}function c(n,g){if(1&n&&(e.YNc(0,d,3,0,"ion-fab",9),e.TgZ(1,"div",17)(2,"ion-button",18),e._uU(3),e.qZA()(),e.TgZ(4,"ion-list",19),e.YNc(5,b,5,1,"ion-item",20),e.qZA()),2&n){const t=e.oxw();e.Q6J("ngIf",22==t.order.status_order),e.xp6(2),e.Tol(t.store_states_[t.order.status_order].class),e.xp6(1),e.hij(" ",t.store_states_[t.order.status_order].message," "),e.xp6(2),e.Q6J("ngForOf",t.details)}}function P(n,g){if(1&n&&(e.TgZ(0,"div"),e._uU(1),e.qZA()),2&n){const t=e.oxw(6);e.Tol("status "+t.store_states_[t.order.status_order].class),e.xp6(1),e.hij(" ",t.store_states_[t.order.status_order].message," ")}}function M(n,g){if(1&n){const t=e.EpF();e.TgZ(0,"ion-toolbar",39)(1,"ion-item",40)(2,"ion-avatar",41)(3,"ion-img",42),e.NdJ("click",function(){e.CHM(t);const r=e.oxw(5);return e.KtG(r.viewImage(r.order.drivers[0].photo_driver))}),e.qZA()(),e.TgZ(4,"ion-label")(5,"p",43),e._uU(6),e.qZA()(),e.TgZ(7,"ion-icon",44),e.NdJ("click",function(){e.CHM(t);const r=e.oxw(5);return e.KtG(r.callANumber(r.order.drivers[0].driver_phone))}),e.qZA(),e.YNc(8,P,2,3,"div",45),e.qZA()()}if(2&n){const t=e.oxw(5);e.xp6(3),e.Q6J("src",t.order.drivers[0].photo_driver),e.xp6(3),e.hij("",t.order.drivers[0].driver_name," "),e.xp6(2),e.Q6J("ngIf",t.store_states_[t.order.status_order])}}function S(n,g){if(1&n&&(e.TgZ(0,"h4",50)(1,"span"),e._uU(2),e.ALo(3,"uppercase"),e.qZA()()),2&n){const t=e.oxw().$implicit,o=e.oxw(5);e.xp6(1),e.Tol("badge "+o.store_status[t.status].class),e.xp6(1),e.Oqu(e.lcZ(3,3,o.store_status[t.status].message))}}function ee(n,g){if(1&n&&(e.TgZ(0,"div",53)(1,"ion-label"),e._uU(2,"Tiempo de espera:"),e.qZA(),e.TgZ(3,"span",54),e._uU(4),e.qZA()()),2&n){const t=e.oxw(2).$implicit;e.xp6(4),e.lnq("",t.timer.hours>9?t.timer.hours:"0"+t.timer.hours,":",t.timer.minutes>9?t.timer.minutes:"0"+t.timer.minutes,":",t.timer.seconds>9?t.timer.seconds:"0"+t.timer.seconds,"")}}function re(n,g){if(1&n&&(e.ynx(0),e.YNc(1,ee,5,3,"div",51),e._UZ(2,"br"),e.TgZ(3,"div")(4,"p",52),e._uU(5),e.ALo(6,"currency"),e.qZA()(),e.BQk()),2&n){const t=e.oxw().$implicit;e.xp6(1),e.Q6J("ngIf",t.timer),e.xp6(4),e.hij("Total:",e.gM2(6,2,t.total_charge,"","symbol","1.0"),"")}}function se(n,g){if(1&n&&(e.ynx(0),e.TgZ(1,"div")(2,"p",55),e._uU(3),e.qZA(),e.TgZ(4,"p",56),e._uU(5),e.ALo(6,"currency"),e.qZA()(),e.BQk()),2&n){const t=e.oxw().$implicit;e.xp6(3),e.hij("Tiempo de espera:",t.wait_time," minutos"),e.xp6(2),e.hij("Total:",e.gM2(6,2,t.surplus_money,"","symbol","1.0"),"")}}function ae(n,g){if(1&n&&(e.TgZ(0,"ion-card",46)(1,"ion-card-content",47)(2,"h2"),e._uU(3),e.qZA(),e.YNc(4,S,4,5,"h4",48),e.TgZ(5,"p",49),e._uU(6),e.qZA(),e.TgZ(7,"p",49),e._uU(8),e.qZA(),e.YNc(9,re,7,7,"ng-container",29),e.YNc(10,se,7,7,"ng-container",29),e.qZA()()),2&n){const t=g.$implicit,o=e.oxw(5);e.xp6(3),e.hij("Novedad ",t.id,""),e.xp6(1),e.Q6J("ngIf",o.store_status[t.status]),e.xp6(2),e.Oqu(t.address),e.xp6(2),e.Oqu(t.description),e.xp6(1),e.Q6J("ngIf",1==o.order.diligence&&o.orderActive),e.xp6(1),e.Q6J("ngIf",1==o.order.diligence&&!o.orderActive)}}function le(n,g){if(1&n&&(e.TgZ(0,"div",57)(1,"p"),e._uU(2,"VALOR DEL SERVICIO: "),e.TgZ(3,"span",58),e._uU(4),e.ALo(5,"currency"),e.qZA()(),e.TgZ(6,"p"),e._uU(7,"TIEMPO ESPERADO: "),e.TgZ(8,"span",58),e._uU(9),e.ALo(10,"currency"),e.qZA()()()),2&n){const t=e.oxw(5);e.xp6(4),e.Oqu(e.gM2(5,2,t.order.order_total,"","symbol","1.0")),e.xp6(5),e.Oqu(e.gM2(10,7,t.order.total-t.order.order_total,"","symbol","1.0"))}}function ce(n,g){if(1&n&&(e.TgZ(0,"div"),e.YNc(1,M,9,3,"ion-toolbar",33),e.TgZ(2,"div",34)(3,"div",35),e.YNc(4,ae,11,6,"ion-card",36),e.qZA(),e.YNc(5,le,11,12,"div",37),e.TgZ(6,"div",38)(7,"ion-label")(8,"span"),e._uU(9,"Total a pagar: "),e.qZA(),e._uU(10),e.ALo(11,"currency"),e.qZA()()()()),2&n){const t=e.oxw(4);e.xp6(1),e.Q6J("ngIf",t.order.drivers.length>0),e.xp6(3),e.Q6J("ngForOf",t.details),e.xp6(1),e.Q6J("ngIf",1==t.order.diligence),e.xp6(5),e.Oqu(e.gM2(11,4,t.order.total,"","symbol","1.0"))}}const de=function(n){return{"v-none":n}};function _e(n,g){if(1&n&&(e.TgZ(0,"ion-card-content",28),e.YNc(1,ce,12,9,"div",29),e.TgZ(2,"div",30)(3,"div"),e._UZ(4,"img",31),e.qZA(),e.TgZ(5,"p",32),e._uU(6,"TU ORDEN PRONTO SER\xc1 ACEPTADA POR UN MENSAJERO"),e.qZA()()()),2&n){const t=e.oxw(3);e.xp6(1),e.Q6J("ngIf",t.order.status_order>23),e.xp6(1),e.Q6J("ngClass",e.VKq(2,de,t.order.status_order>=23))}}const ge=function(n){return{"min-he":n}};function ue(n,g){if(1&n){const t=e.EpF();e.ynx(0),e.TgZ(1,"ion-card",25)(2,"div",26),e.NdJ("click",function(){e.CHM(t);const r=e.oxw(2);return e.KtG(r.viewMore())}),e._uU(3," Informaci\xf3n del servicio "),e.qZA(),e.YNc(4,_e,7,4,"ion-card-content",27),e.qZA(),e.BQk()}if(2&n){const t=e.oxw(2);e.xp6(1),e.Q6J("ngClass",e.VKq(2,ge,25==t.order.status_order)),e.xp6(3),e.Q6J("ngIf",t.view_more)}}function me(n,g){if(1&n&&(e.ynx(0),e._UZ(1,"img",75),e.BQk()),2&n){const t=e.oxw().$implicit,o=e.oxw(3);e.xp6(1),e.Q6J("src",o.getStoreState(t).image,e.LSH)}}function pe(n,g){1&n&&e._UZ(0,"ion-icon",76)}function fe(n,g){if(1&n&&e._UZ(0,"ion-icon",77),2&n){const t=e.oxw().$implicit,o=e.oxw(3);e.Q6J("name",o.store_states[t].icon)}}const he=function(n,g){return{completed:n,cancelled:g}};function xe(n,g){if(1&n&&(e.TgZ(0,"ion-col",71)(1,"ion-button",72),e.YNc(2,me,2,1,"ng-container",29),e.YNc(3,pe,1,0,"ion-icon",73),e.YNc(4,fe,1,1,"ion-icon",74),e.qZA()()),2&n){const t=g.$implicit,o=e.oxw(3);e.xp6(1),e.Q6J("ngClass",e.WLB(4,he,o.current_state>o.store_states[t].state,58==o.current_state||59==o.current_state)),e.xp6(1),e.Q6J("ngIf",o.current_state==o.store_states[t].state),e.xp6(1),e.Q6J("ngIf",o.current_state>o.store_states[t].state),e.xp6(1),e.Q6J("ngIf",o.current_state<o.store_states[t].state&&o.store_states[t].state>52&&o.current_state<58)}}function ve(n,g){if(1&n&&(e.TgZ(0,"p",79),e._uU(1),e.qZA()),2&n){const t=e.oxw(4);e.xp6(1),e.Oqu(t.store_states[t.current_state].message)}}function be(n,g){if(1&n&&(e.TgZ(0,"p",79)(1,"strong",80),e._uU(2),e.qZA(),e.TgZ(3,"strong"),e._uU(4),e.qZA()()),2&n){const t=e.oxw(4);e.xp6(2),e.hij("",t.store_states[t.current_state].message.split("!")[0],"!"),e.xp6(2),e.Oqu(t.store_states[t.current_state].message.split("!")[1])}}function Oe(n,g){if(1&n&&(e.ynx(0),e.YNc(1,ve,2,1,"p",78),e.YNc(2,be,5,2,"p",78),e.BQk()),2&n){const t=e.oxw(3);e.xp6(1),e.Q6J("ngIf",3!=t.current_state),e.xp6(1),e.Q6J("ngIf",3==t.current_state)}}function Pe(n,g){if(1&n){const t=e.EpF();e.TgZ(0,"ion-button",81),e.NdJ("click",function(){e.CHM(t);const r=e.oxw(3);return e.KtG(r.cancel())}),e.TgZ(1,"strong"),e._uU(2,"Cancelar"),e.qZA()()}}function Me(n,g){if(1&n){const t=e.EpF();e.TgZ(0,"ion-toolbar",86)(1,"ion-item",87)(2,"ion-avatar",41)(3,"ion-img",42),e.NdJ("click",function(){e.CHM(t);const r=e.oxw(4);return e.KtG(r.viewImage(r.order.drivers[0].photo_driver))}),e.qZA()(),e.TgZ(4,"ion-label")(5,"p",88),e._uU(6),e.qZA(),e.TgZ(7,"p",89)(8,"strong"),e._uU(9,"Total"),e.qZA(),e._uU(10),e.ALo(11,"currency"),e.qZA()(),e.TgZ(12,"ion-icon",90),e.NdJ("click",function(){e.CHM(t);const r=e.oxw(4);return e.KtG(r.callANumber(r.order.drivers[0].driver_phone))}),e.qZA()()()}if(2&n){const t=e.oxw(4);e.xp6(3),e.Q6J("src",t.order.drivers[0].photo_driver),e.xp6(3),e.hij("",t.order.drivers[0].driver_name," "),e.xp6(4),e.AsE(" ",e.gM2(11,4,t.order.total,"","symbol","1.0"),", ",t.order.payment_method," ")}}function Ce(n,g){if(1&n&&(e.ynx(0),e.TgZ(1,"ion-row")(2,"ion-col",82),e._UZ(3,"img",83),e.qZA(),e.TgZ(4,"ion-col",66)(5,"p"),e._uU(6),e.qZA(),e.TgZ(7,"p"),e._uU(8),e.qZA(),e.TgZ(9,"p",84),e._uU(10),e.qZA()()(),e.YNc(11,Me,13,9,"ion-toolbar",85),e.BQk()),2&n){const t=e.oxw(3);e.xp6(3),e.Q6J("src",t.order.seller.profile_settings.img_gravatar,e.LSH),e.xp6(3),e.Oqu(t.order.seller.profile_settings.store_name),e.xp6(2),e.Oqu(t.order.seller.profile_settings.find_address),e.xp6(2),e.hij("Orden # ",t.order.wc_order_id,""),e.xp6(1),e.Q6J("ngIf",t.order.drivers.length>0&&25!=t.order.status_order&&31!=t.order.status_order&&36!=t.order.status_order&&48!=t.order.status_order)}}function ye(n,g){if(1&n){const t=e.EpF();e.TgZ(0,"div",59)(1,"ion-button",60),e.NdJ("click",function(){e.CHM(t);const r=e.oxw(2);return e.KtG(r.viewDetails(r.order))}),e._uU(2," Informaci\xf3n del servicio "),e.qZA(),e.TgZ(3,"ion-card",61)(4,"ion-card-content",62)(5,"ion-row",63),e.YNc(6,xe,5,7,"ion-col",64),e.qZA(),e.TgZ(7,"ion-row",65)(8,"ion-col",66),e.YNc(9,Oe,3,2,"ng-container",29),e.qZA(),e.TgZ(10,"ion-col",67),e.YNc(11,Pe,3,0,"ion-button",68),e.qZA(),e.TgZ(12,"ion-col",69)(13,"ion-button",70),e.NdJ("click",function(){e.CHM(t);const r=e.oxw(2);return e.KtG(r.showShop())}),e._uU(14),e.qZA()()(),e.YNc(15,Ce,12,5,"ng-container",29),e.qZA()()()}if(2&n){const t=e.oxw(2);e.xp6(6),e.Q6J("ngForOf",t.convertTorray(t.store_states)),e.xp6(3),e.Q6J("ngIf",t.store_states[t.current_state]),e.xp6(2),e.Q6J("ngIf",t.current_state<53),e.xp6(3),e.hij(" ",t.show_shop?"Ver menos":"Ver m\xe1s"," "),e.xp6(1),e.Q6J("ngIf",t.show_shop)}}function Te(n,g){if(1&n&&(e.TgZ(0,"ion-footer",24),e.YNc(1,ue,5,4,"ng-container",5),e.YNc(2,ye,16,5,"ng-template",null,6,e.W1O),e.qZA()),2&n){const t=e.MAs(3),o=e.oxw();e.Q6J("translucent",!0),e.xp6(1),e.Q6J("ngIf",0==o.order.zapp_store_order)("ngIfElse",t)}}function we(n,g){if(1&n&&(e.TgZ(0,"ion-item",91)(1,"ion-text",41),e._uU(2),e.qZA(),e.TgZ(3,"ion-text"),e._uU(4),e.qZA()()),2&n){const t=e.oxw();e.xp6(2),e.hij("Distancia ",t.order.distance," KM"),e.xp6(2),e.hij("Duraci\xf3n ",t.order.duration," HORAS ")}}let Ze=(()=>{class n{constructor(t,o,r,l,a){this.ui=t,this.request=o,this.auth=r,this.realtime=l,this.zone=a,this.fromHistory=!1,this.az_arr=["a","b","c","d","e","f","g","h","i","j","k","l","m","n","o","p","q","r","s","t","u","v","w","x","y","z"],this.markers=[],this.distance="",this.duration=0,this.duration_text="",this.details=[],this.firstTime=!0,this.equal_or_greater_than_a_kilometer=!0,this.markerPoints=[],this.view_more=!0,this.proximity=1,this.current_state=52,this.store_status={52:{message:"Tu orden ha sido recibida y pronto ser\xe1 confirmada.",json:"/assets/lottie-files/1-confirmed.json",state:52},53:{message:"Tu orden ha sido confirmada y se est\xe1 preparando.",json:"/assets/lottie-files/2-order-packed.json",state:53,icon:"order-inproccess"},54:{message:"El mensajero va en camino a tu ubicaci\xf3n. ",json:"/assets/lottie-files/3-delivery-riding.json",state:54,icon:"deliverygo"},55:{message:"\xa1El mensajero ha llegado! Recibe tu pedido. ",json:"/assets/lottie-files/4-food-delivery.json",state:55,icon:"delivery-location"},57:{message:"La orden ha sido finalizada",json:"/assets/lottie-files/4-food-delivery.json",state:57,icon:"delivery-location"},58:{message:"La orden fue cancelada",json:"/assets/lottie-files/4-food-delivery.json",state:58,icon:"delivery-location"},59:{message:"Ubicando el repartidor m\xe1s cercano...",json:"/assets/lottie-files/4-food-delivery.json",state:58,icon:"delivery-location"},22:{message:"No Asignada",state:22,class:"danger"},24:{message:"En proceso",state:24,class:"in-proccess"},25:{message:"completado",state:25,class:"success"},31:{message:"Cancelada",state:31,class:"warning"},36:{message:"Cancelada por mensajero",state:36,class:"danger"},48:{message:"No efectiva",state:48,color:"dark",class:"not-effective"}},this.store_states={52:{message:"Tu orden ha sido recibida y pronto ser\xe1 confirmada.",json:"/assets/lottie-files/1-confirmed.json",state:52,image:"/assets/imgs/1-confirmed.gif"},53:{message:"Tu orden ha sido confirmada y se est\xe1 preparando.",json:"/assets/lottie-files/2-order-packed.json",state:53,image:"/assets/imgs/2-order-packed.gif",icon:"order-inproccess"},54:{message:"El mensajero va en camino a tu ubicaci\xf3n. ",json:"/assets/lottie-files/3-delivery-riding.json",state:54,image:"/assets/imgs/3-delivery-riding.gif",icon:"deliverygo"},55:{message:"\xa1El mensajero ha llegado! Recibe tu pedido. ",json:"/assets/lottie-files/4-food-delivery.json",state:55,image:"/assets/imgs/4-food-delivery.gif",icon:"delivery-location"},57:{message:"La orden ha sido finalizada",json:"/assets/-food-delivery.json",state:57,icon:"delivery-location"},58:{message:"La orden fue cancelada",json:"/assets/4-food-delivery.json",state:58,icon:"delivery-location"},59:{message:"Ubicando el repartidor m\xe1s cercano...",json:"/assets/4-food-delivery.json",state:58,icon:"delivery-location"}},this.store_states_={52:{message:"Tu orden ha sido recibida y pronto ser\xe1 confirmada.",json:"/assets/lottie-files/1-confirmed.json",state:52},53:{message:"Tu orden ha sido confirmada y se est\xe1 preparando.",json:"/assets/lottie-files/2-order-packed.json",state:53,icon:"order-inproccess"},54:{message:"El mensajero va en camino a tu ubicaci\xf3n. ",json:"/assets/lottie-files/3-delivery-riding.json",state:54,icon:"deliverygo"},55:{message:"\xa1El mensajero ha llegado! Recibe tu pedido. ",json:"/assets/lottie-files/4-food-delivery.json",state:55,icon:"delivery-location"},57:{message:"La orden ha sido finalizada",json:"/assets/lottie-files/4-food-delivery.json",state:57,icon:"delivery-location"},58:{message:"La orden fue cancelada",json:"/assets/lottie-files/4-food-delivery.json",state:58,icon:"delivery-location"},59:{message:"Ubicando el repartidor m\xe1s cercano...",json:"/assets/lottie-files/4-food-delivery.json",state:58,icon:"delivery-location"},25:{message:"FINALIZADO",json:"/assets/lottie-files/4-food-delivery.json",state:58,icon:"delivery-location",class:"status-success"},22:{message:"SIN ASIGNAR",json:"/assets/lottie-files/4-food-delivery.json",state:58,icon:"delivery-location",class:"status-success"},23:{message:"ASIGNADA",json:"/assets/lottie-files/4-food-delivery.json",state:58,icon:"delivery-location",class:"status-success"},24:{message:"EN PROCESO",json:"/assets/lottie-files/4-food-delivery.json",state:58,icon:"delivery-location",class:"status-in-process"},48:{message:"NO EFECTIVA",class:"status-not-effective"},31:{message:"CANCELADA",class:"status-completed"},36:{message:"CANCELADA POR MENSAJERO",class:"status-completed"}},this.markers_numbers=["1","2","3","4","5","6","7","8","9","10","11","12","13","14","15","16","17","18","19","20","21","22","23","24","25","26","27","28","29","30","31","32","33","34","35","36","37","38","39","40","41","42","43","44","45","46","47","48","49","50"],this.show_shop=!1}ngOnInit(){}showShop(){this.show_shop=!this.show_shop}getOptions(t){return{path:this.store_states[t].json,autoplay:!0,loop:!0}}getStoreState(t){return this.store_states[t]}animationCreated(t){}onError(t){console.log("Error animation",t)}showQualification(t,o){return(0,i.mG)(this,void 0,void 0,function*(){if(console.log("Qualification"),this.order.score_service)return;if(this.order.score_service>0)return;console.log("Pass");const r=o[0];this.dismiss(),(yield this.ui.presentModal(k.W,{order:t,driver:r},[],"QualificationPage")).onDidDismiss().then(a=>{})})}convertTorray(t){return Object.keys(t).filter(o=>Number(o)<57)}ngOnDestroy(){this.subscription&&this.subscription.unsubscribe()}ionViewWillEnter(){return(0,i.mG)(this,void 0,void 0,function*(){if(this.order.order_total=this.order.order_total?this.order.order_total:this.order.total,console.log("Order",this.order),1==this.order.zapp_store_order){let t=0;t=this.auth.person.city_selected?this.auth.person.city_selected.id:this.auth.person.city_id,console.log("Url",`status_order_mobile/${this.order.city_id}/${this.auth.user.id}/${this.order.id}`),48!=this.order.status_order&&this.realtime.getFirebaseCollectionObject(`status_order_mobile/${this.order.city_id}/${this.auth.user.id}/${this.order.id}`).subscribe(o=>{if(null!=o){if(console.log("Res Subscription status order",o),o.drivers&&o.drivers.length>0&&(o.drivers=o.drivers,this.order.drivers=o.drivers,console.log("Order Drivers")),console.log("Status Order Firebase",o.status_order),!this.store_states[o.status_order])switch(o.status_order){case 0:o.status_order=52;break;case 1:o.status_order=53;break;case 2:o.status_order=54;break;case 3:o.status_order=55}if(25==o.status_order)return this.showQualification(o.order,o.drivers),void(this.current_state=57);if(31==o.status_order)return void(this.current_state=58);if(36==o.status_order)return void(this.current_state=59);if(48==o.status_order)return this.current_state=48,this.dismiss(),void this.ui.presentAlert({mode:"ios",header:"Advertencia",message:"La orden ha sido no efectiva no atendiste el servicio",buttons:[{text:"Aceptar",role:"cancel",cssClass:"secondary",handler:r=>{}}]});this.current_state=o.status_order}})}else this.listenToStatusOrder();if(this.markerPoints=[],this.markers=[],clearInterval(this.positionTracking),console.log("Proximity",this.proximity),console.log("Order",this.order),this.order.details?this.order.details.map(t=>{this.details.push(Object.assign({id:t.id,latitude:t.latitude,longitude:t.longitude,title:t.title,description:t.description,contact_name:t.contact_name,contact_phone:t.contact_phone,people_id:t.people_id},t))}):this.order.detail.map(t=>{this.details.push(Object.assign({id:t.id,address:t.address,title:t.title,description:t.description,latitude:parseFloat(t.latitude),longitude:parseFloat(t.longitude),contact_name:t.contact_name,contact_phone:t.contact_phone,people_id:t.people_id},t))}),3==this.order.service_type_id){const t=[];console.log("Tiempooooo"),this.details.forEach(r=>{console.log("Element",r),t.find(l=>l.title==r.title)||t.push({id:r.id,title:r.title,driver_id:r.people_id})}),console.log("Titles",t);const o=t.map((r,l)=>{let a=this.details.filter(m=>m.title==r.title);a=a.map((m,f)=>(console.log("Order details Address",m),Object.assign({id:m.id,index:f+1,title:m.title,address:m.address,description:m.description,latitude:parseFloat(m.latitude),longitude:parseFloat(m.longitude),contact_name:m.contact_name,contact_phone:m.contact_phone,driver_id:r.driver_id},m)));const p=this.order.drivers.find(m=>m.driver_id==r.driver_id);return Object.assign({id:r.driver_id,detail_id:r.id,index:l+1,driver:r.title,address_array:a,driver_o:p},a[0])});console.log("Array",o),console.log("Address Array",this.details),this.details=o,this.details.map(r=>{r.km||(r.km=Math.round(this.order.distance/this.details.length)),r.time||(r.time=Math.round(this.order.duration/this.details.length))})}else this.loadMap(!0);this.realtime.getFirebaseCollectionList(`order_detail_report/${this.order.id}`).subscribe(t=>{null!=t&&(t.length>0?t.forEach(o=>{let r=this.details.findIndex(l=>(console.log("Order Details detail",l,o),l.detail_id==o.id||l.id==o.id));if(-1!=r){if(3!=this.order.service_type_id){const l=o.timer?o.timer.minutes:0,a=o.total_charge?Number(o.total_charge):0;this.details[r]=Object.assign(Object.assign({},o),{wait_time:l,surplus_money:a}),this.order.total=Number(this.order.order_total),this.details.forEach(p=>{this.order.total+=Number(p.surplus_money)})}else this.details[r]=Object.assign(Object.assign({},this.details[r]),{detail:o});console.log("Order Details",this.order.details)}else console.log("Order Details No encontrado")}):console.log("Array vac\xedo"))}),this.markers_numbers.map((t,o)=>{this.markers.push("/assets/imgs/markers_numbers/"+(o+1)+".png")})})}listenToStatusOrder(){this.realtime.getFirebaseCollectionObject("status_order_mobile/"+this.order.city_id+"/"+this.auth.user.id+"/"+this.order.id).subscribe(t=>{console.log("Res Subscription status",t),null!=t&&(t.drivers&&t.drivers.length>0&&(this.order.drivers=t.drivers,console.log("Order Drivers",this.order.drivers,this.details)),this.order.status_order=t.order.status_order,console.log("Subscription 1",t),25==this.order.status_order&&(this.fromHistory||this.showQualification(this.order,this.order.drivers)))})}changeState(){this.current_state++}get detailActive(){return this.details.find(t=>25!=t.status&&36!=t.status&&48!=t.status)}createIcon(t){const o=(t=t||{}).img||new Image;o.src=o.src||t.url||"",t.width=t.width||o.width||52,t.height=t.height||o.height||60;var r=document.createElement("canvas");r.width=t.width,r.height=t.height;const l=r.getContext("2d");return{canvas:r,context:l,image:o}}get orderActive(){return 31!=this.order.status_order&&48!=this.order.status_order&&25!=this.order.status_order&&36!=this.order.status_order}setRotation(t,o){var r=t.context,l=o.deg?o.deg*Math.PI/180:o.rad,a=o.width/2,p=o.height/2;return r.clearRect(0,0,o.width,o.height),r.save(),r.translate(a,p),r.rotate(l),r.translate(-a,-p),console.log("Image",t.image),r.drawImage(t.image,0,0),r.restore(),t.canvas}getUrl(t){return t.toDataURL("image/png")}cancel(){return(0,i.mG)(this,void 0,void 0,function*(){yield this.ui.presentAlert({mode:"ios",header:"\xbfEst\xe1s seguro que quieres cancelar la orden?",buttons:[{text:"No",role:"cancel",cssClass:"secondary",handler:t=>{}},{text:"S\xed",handler:t=>(0,i.mG)(this,void 0,void 0,function*(){yield this.ui.presentAlert({mode:"ios",header:"\xbfPor qu\xe9 desea cancelarla?",inputs:[{name:"why",id:"paragraph",type:"textarea",placeholder:"Raz\xf3n",mode:"ios"}],buttons:[{text:"Enviar",handler:o=>(0,i.mG)(this,void 0,void 0,function*(){(new FormData).append("description",o.why);const l={description:o.why},a=yield this.ui.loading("Por favor espere...");this.request.put("order/cancel_an_order/"+this.order.id,l).subscribe(p=>(0,i.mG)(this,void 0,void 0,function*(){(yield a).dismiss(),this.order.status_order=25,1==this.order.zapp_store_order&&this.request.post(`/?option=update_order&id=${this.order.wc_order_id}`,{data:{status:"cancelled"}},!0).subscribe(f=>{console.log("Res",f)},f=>{400==f.status&&this.ui.showToast(f.error.message)}),localStorage.removeItem("current_order"),this.dismiss()}),p=>(0,i.mG)(this,void 0,void 0,function*(){(yield a).dismiss(),yield this.ui.presentAlert({mode:"ios",header:"No se ha podido cancelar la orden",buttons:[{text:"Aceptar",role:"cancel",handler:()=>{}}]})}))})}]})})}]})})}openDialog(t){return(0,i.mG)(this,void 0,void 0,function*(){console.log("Driver",t);let o={driver:t,disable:!0,order:this.order};(yield this.ui.presentModal(R.n,o,["custom-modal"])).onDidDismiss().then(()=>{})})}getDrivers(){let t="";switch(clearInterval(this.positionTracking),this.order.transport_type_id){case 4:t="assets/imgs/moto-new.svg";break;case 5:t="assets/imgs/carrysegui.png";break;case 6:t="assets/imgs/autosegui.png"}var o={url:t,scaledSize:new google.maps.Size(35,30),anchor:new google.maps.Point(0,0)};let r=[];this.subscription=this.realtime.getFirebaseCollectionList("order_gps/"+this.order.id).subscribe(l=>{console.log("Drivers",l),l&&l.length>0&&(console.log("Drivers 2",l),0==r.length?l.map(a=>{let p={lat:parseFloat(a.lat),lng:parseFloat(a.lng)},m=new google.maps.Marker({position:p,map:this.map,icon:o});r.push(m);const f=parseFloat(l[0].oldLat),w=parseFloat(l[0].oldLng),h=parseFloat(l[0].lat),I=parseFloat(l[0].lng),D=new google.maps.LatLng(f,w),q=new google.maps.LatLng(h,I);this.rotateMarker(t,D,q,l[0].angle),m.setPosition(q)}):r.forEach(a=>{const p=parseFloat(l[0].oldLat),m=parseFloat(l[0].oldLng),f=parseFloat(l[0].lat),w=parseFloat(l[0].lng),h=new google.maps.LatLng(p,m),I=new google.maps.LatLng(f,w);this.rotateMarker(t,h,I,l[0].angle),a.setPosition(I)}))},l=>{})}loadMap(t=!1){return(0,i.mG)(this,void 0,void 0,function*(){const o=yield this.ui.loading("Por favor espere...");try{var r=new google.maps.DirectionsService,l=new google.maps.DirectionsRenderer({suppressMarkers:!0}),a=[],m=[];for(let y=0;y<this.details.length;y++){let x={lat:parseFloat(this.details[y].latitude),lng:parseFloat(this.details[y].longitude)};a.push({location:x,stopover:!0})}var f=new google.maps.Map(document.getElementById("mapViewOrder"),{zoom:2,mapTypeControl:!1,zoomControl:!0,streetViewControl:!1});this.map=f,l.setMap(f);var w=new google.maps.InfoWindow;let U,Y,ne,H=this.details.length-1;if(this.order&&1==this.order.round_trip?(console.log("Round trip"),U={lat:a[0].location.lat,lng:a[0].location.lng},Y={lat:a[0].location.lat,lng:a[0].location.lng},ne={lat:a[H].location.lat,lng:a[H].location.lng},25!=this.order.status_order&&this.getDistanceMatrix(ne,U)):(U={lat:a[0].location.lat,lng:a[0].location.lng},Y={lat:a[H].location.lat,lng:a[H].location.lng},25!=this.order.status_order&&this.getDistanceMatrix(U,Y)),this.details.length>=25){for(var h=0,I=[],D=22;h<this.details.length;h=h+D+1)I.push(this.details.slice(h,h+D+1));h=0;var q=[];for(D=23;h<a.length;h+=D)q.push(a.slice(h,h+D));console.log("PARTES DEL WPTS",q);let y,x=[];for(h=0;h<q.length;h++){let A;0==h?(A=U,console.log("SEGUNDA PARTE",A)):(A={lat:Number(x[x.length-1].latitude),lng:Number(x[x.length-1].longitude)},console.log("SEGUNDA PARTE",A),y=q[h-1].length),console.log("marker_origin_number",y);for(var W=[],$=0;$<q[h].length;$++)W.push(q[h][$]),console.log("I",h,"J",$);let X={origin:A,destination:Y,waypoints:W,travelMode:google.maps.TravelMode.DRIVING};yield this.printDirections(X,this.map),x=x.concat(I[h]),console.log("ESTE ES EL ARRAY ENRUTADO INICIAL LDM",x),this.getDrivers()}for(let C=0;C<this.details.length;C++){let A={lat:parseFloat(this.details[C].latitude),lng:parseFloat(this.details[C].longitude)};console.log("Marker Url",this.markers[C]);var Ae={url:this.markers[C],scaledSize:0==C?new google.maps.Size(50,50):new google.maps.Size(35,50),origin:new google.maps.Point(0,0),anchor:new google.maps.Point(0,32)};let K=new google.maps.Marker({position:A,map:f,icon:Ae});this.markerPoints.push(K),console.log("Detail",this.details[C]);const J=this.order.details?this.order.details:this.order.detail,N=J.find(L=>L.id==this.details[C].id);if(console.log("Df",N),N&&m.push(N.address),0!=C){const L=this;google.maps.event.addListener(K,"click",function(B,te){return function(){const G=J.find(ie=>ie.id==L.details[te].id);console.log("Detail",G),w.setContent(G.address),w.open(f,B)}}(K,C))}}(yield o).dismiss()}if(this.details.length<25){for(let x=0;x<this.details.length;x++){let C={lat:parseFloat(this.details[x].latitude),lng:parseFloat(this.details[x].longitude)},X="assets/imgs/store.png";var ke={url:"assets/imgs/house.png",scaledSize:new google.maps.Size(50,50)};let K=[{url:X,scaledSize:new google.maps.Size(50,50)},ke],J=new google.maps.Marker({position:C,map:f,icon:1==this.order.zapp_store_order?K[x]:this.markers[x]});this.markerPoints.push(J),console.log("Detail",this.details[x]);const N=this.order.detail.find(B=>B.id==this.details[x].id);console.log("Df",N),N&&m.push(N.address);const L=this;google.maps.event.addListener(J,"click",function(B,te){return function(){const G=L.order.detail.find(ie=>ie.id==L.details[te].id);console.log("Detail",G),w.setContent(G.address),w.open(f,B)}}(J,x))}const y=this;r.route({origin:U,destination:Y,waypoints:a,travelMode:google.maps.TravelMode.DRIVING},function(x,C){return(0,i.mG)(this,void 0,void 0,function*(){C===google.maps.DirectionsStatus.OK?(l.setDirections(x),31!=y.order.status_order&&y.getDrivers(),(yield o).dismiss()):((yield o).dismiss(),localStorage.removeItem("current_order"),yield y.ui.presentAlert({mode:"ios",header:"No se ha podido mostrar el mapa",buttons:[{text:"Aceptar",role:"cancel",cssClass:"secondary",handler:A=>{y.dismiss()}}]}),console.log("Ha fallat la comunicaci\xf3 amb el mapa a causa de: "+C))})})}for(let y=0;y<a.length;y++){let x=null,C=null;y<a.length-1&&(x={lat:a[y].location.lat,lng:a[y].location.lng});let A=y+1;A<=a.length-1&&(C={lat:a[A].location.lat,lng:a[A].location.lng}),null!=x&&null!=C&&this.getDistanceMatrix(x,C)}}catch(U){(yield o).dismiss()}})}printDirections(t,o){var l=new google.maps.DirectionsService,a=new google.maps.DirectionsRenderer({suppressMarkers:!0});return a.setMap(o),new Promise((p,m)=>{l.route(t,function(f,w){return(0,i.mG)(this,void 0,void 0,function*(){w===google.maps.DirectionsStatus.OK?(a.setDirections(f),p({})):(p({}),console.log("Ha fallat la comunicaci\xf3 amb el mapa a causa de: "+w))})})})}viewMore(){this.view_more=!this.view_more,this.view_more||clearInterval(this.positionTracking)}rotateMarker(t,o,r,l){const a=`img[src='${t}']`;console.log("Url",a);const p=document.querySelectorAll(a),m=document.querySelector(a);if(console.log("img",m),p[0]){console.log("Encontrado Marker");let f=0,w=0;void 0===l?(f=google.maps.geometry.spherical.computeHeading(o,r),w=f):w=l,console.log("Angle",w),p[0].style.transform=`rotate(${w}deg)`,p[0].style.bottom=0,p[0].style.top="unset !important"}}viewEvent(t){return(0,i.mG)(this,void 0,void 0,function*(){clearInterval(this.positionTracking),yield(yield this.ui.presentModal(j.s,{order:t})).onDidDismiss()})}viewDetails(t){return(0,i.mG)(this,void 0,void 0,function*(){clearInterval(this.positionTracking);const o=yield this.ui.presentModal(F.R,{order:t});console.log("Order After",this.order),yield o.onDidDismiss()})}viewImage(t){this.ui.viewImage(t)}getDistanceMatrix(t,o,r){var l=new google.maps.DistanceMatrixService,a=this;l.getDistanceMatrix({origins:[t],destinations:[o],travelMode:google.maps.TravelMode.DRIVING,unitSystem:google.maps.UnitSystem.METRIC,avoidHighways:!1,avoidTolls:!1},function(p,m){return(0,i.mG)(this,void 0,void 0,function*(){if(m!=google.maps.DistanceMatrixStatus.OK)yield a.ui.presentAlert({mode:"ios",header:"No se pudo mostrar el mapa, verifique su conexi\xf3n y reintentelo de nuevo",buttons:[{text:"Aceptar",role:"cancel",cssClass:"secondary",handler:f=>{console.log("Confirm Cancel: blah"),a.dismiss()}}]}),console.log("Error was: "+m);else try{console.log("Response",p.rows[0].elements[0]),console.log("Distance Text",p.rows[0].elements[0].distance.text)}catch(f){console.log("error",f)}})})}getCalculateDistance(t,o){let l,a;this.distance=t,Number(o),this.duration+=o,this.duration>=3600?(l=(this.duration/3600).toFixed(0),a=this.duration-3600>=60?((this.duration-3600)/60).toFixed(0):1..toFixed(0)):a=(this.duration/60).toFixed(0);const p=1==Number(l)?" hora":this.duration<3600?"":" horas",m=1==Number(a)?" minuto":" minutos";l=l||"",this.duration_text=l+p+" "+a+m}callANumber(t){clearInterval(this.positionTracking),console.log("Phone",t),this.ui.call(t)}findLetter(){const t=this.order.details.findIndex(o=>o.id==this.detailActive.id);return this.az_arr[t]}dismiss(){clearInterval(this.positionTracking),this.ui.dismiss()}ionViewWillLeave(){console.log("ionViewWillLeave"),clearInterval(this.positionTracking),this.subscription&&this.subscription.unsubscribe()}ionViewDidLeave(){console.log("ionViewDidLeave"),clearInterval(this.positionTracking),this.subscription&&this.subscription.unsubscribe(),this.orderSubscription&&this.orderSubscription.unsubscribe(),s.b.clearWatch({id:this.id})}}return n.\u0275fac=function(t){return new(t||n)(e.Y36(Q.F),e.Y36(T.s),e.Y36(E.e),e.Y36(z.i),e.Y36(e.R0b))},n.\u0275cmp=e.Xpm({type:n,selectors:[["app-view-order"]],inputs:{order:"order",orders:"orders",fromHistory:"fromHistory"},decls:13,vars:6,consts:[["color","primary","mode","ios",2,"position","relative"],["lines","none","color","primary"],["slot","end",2,"width","40px",3,"click"],["name","close-outline"],[3,"fullscreen"],[4,"ngIf","ngIfElse"],["name",""],[3,"translucent",4,"ngIf"],["color","primary","lines","none","style","text-align: center;\nmargin: auto;\nborder-radius: 40px;",4,"ngIf"],["vertical","top","horizontal","start","slot","fixed",3,"click",4,"ngIf"],["vertical","top","horizontal","end","slot","fixed",3,"click"],["color","primary"],["name","chatbox-outline"],["id","mapViewOrder",2,"width","100%","height","100%"],["map",""],["vertical","top","horizontal","start","slot","fixed",3,"click"],["color","danger"],[2,"display","flex","justify-content","center"],["size","small","shape","round"],["mode","ios",2,"margin-top","20%","overflow-y","scroll","height","400px"],["lines","none","class","ion-text-center driver-item",4,"ngFor","ngForOf"],["lines","none",1,"ion-text-center","driver-item"],["fill","clear",3,"click"],["name","chevron-forward-outline"],[3,"translucent"],[1,"card-absolute-normal","white-gray-background",2,"min-height","500px",3,"ngClass"],[1,"view-detail",3,"click"],["class","ion-no-padding",4,"ngIf"],[1,"ion-no-padding"],[4,"ngIf"],[2,"display","flex","padding-left","10px","padding-right","10px","min-height","200px","height","100%","align-items","center","justify-content","center","flex-direction","column",3,"ngClass"],["src","assets/lottie-files/animation_500_l1z6jxgv.gif","alt","",2,"width","200px","height","200px"],[2,"font-weight","bold","font-family","'Gilroy-ExtraBold' !important"],["class","toolbar",4,"ngIf"],[1,"min-he",2,"min-height","300px","max-height","300px"],[2,"max-height","f 235px","overflow-y","scroll"],["style","    border-radius: 20px;\n              padding: 5px;\n              padding-left: 10px;\n              padding-right: 10px;\n              margin-top: 5px;\n              box-shadow: none;",4,"ngFor","ngForOf"],["style","display: flex;flex-direction: column;    width: 90%;\n                margin: 20px auto 0;",4,"ngIf"],[1,"total"],[1,"toolbar"],["lines","none"],["slot","start"],[3,"src","click"],[1,"black-color-text",2,"font-family","'Gilroy-ExtraBold' !important"],["name","call-outline","slot","end","color","success","size","large",2,"display","none",3,"click"],[3,"class",4,"ngIf"],[2,"border-radius","20px","padding","5px","padding-left","10px","padding-right","10px","margin-top","5px","box-shadow","none"],[1,"row",2,"padding-top","3px","padding-bottom","3px"],["class","timeline-title",4,"ngIf"],[2,"font-size","0.8em","width","100%"],[1,"timeline-title"],["class","time",4,"ngIf"],[1,"ion-text-justify",2,"font-weight","900","font-family","'Gilroy-ExtraBold' !important"],[1,"time"],["id","hms"],[1,"ion-text-justify","black-color-text"],[1,"ion-text-justify","grey-color-text"],[2,"display","flex","flex-direction","column","width","90%","margin","20px auto 0"],[2,"font-weight","900","font-family","'Gilroy-ExtraBold' !important"],[1,"card-absolute"],["shape","round","mode","ios","expand","full",1,"view-detail","b-radius-20",2,"margin","0 5%",3,"click"],["mode","ios",1,"white-gray-background",2,"margin","20px 0"],[2,"padding","0"],[2,"padding","0 10px","padding-left","0"],["size","3","class","ion-text-center",4,"ngFor","ngForOf"],[2,"padding","0 10px"],["size","8"],["size","4",1,"cancel"],["fill","clear","color","danger","style","",3,"click",4,"ngIf"],["size","12"],["expand","full","fill","clear",1,"border-top-gray",3,"click"],["size","3",1,"ion-text-center"],["fill","clear",1,"no-inner-padding","state",3,"ngClass"],["slot","icon-only","name","complete-state",4,"ngIf"],["slot","icon-only",3,"name",4,"ngIf"],["alt","","srcset","",3,"src"],["slot","icon-only","name","complete-state"],["slot","icon-only",3,"name"],["class","status_message",4,"ngIf"],[1,"status_message"],[2,"color","red"],["fill","clear","color","danger",3,"click"],["size","4"],["alt","",1,"shop_image",3,"src"],[2,"font-weight","bold","font-size","1em"],["class","toolbar medium-background",4,"ngIf"],[1,"toolbar","medium-background"],["lines","none",1,"medium-background"],[1,"black-color-text"],[1,"grey-color-text"],["name","call-outline","slot","end","color","success","size","large",3,"click"],["color","primary","lines","none",2,"text-align","center","margin","auto","border-radius","40px"]],template:function(t,o){if(1&t&&(e.TgZ(0,"ion-header")(1,"ion-toolbar",0)(2,"ion-item",1)(3,"ion-title"),e._uU(4),e.qZA(),e.TgZ(5,"ion-button",2),e.NdJ("click",function(){return o.dismiss()}),e._UZ(6,"ion-icon",3),e.qZA()()()(),e.TgZ(7,"ion-content",4),e.YNc(8,_,8,1,"ng-container",5),e.YNc(9,c,6,5,"ng-template",null,6,e.W1O),e.qZA(),e.YNc(11,Te,4,3,"ion-footer",7),e.YNc(12,we,5,2,"ion-item",8)),2&t){const r=e.MAs(10);e.xp6(4),e.hij("ORDEN #",o.order.id," "),e.xp6(3),e.Q6J("fullscreen",!0),e.xp6(1),e.Q6J("ngIf",3!=o.order.service_type_id)("ngIfElse",r),e.xp6(3),e.Q6J("ngIf",3!=o.order.service_type_id),e.xp6(1),e.Q6J("ngIf",3==o.order.service_type_id)}},dependencies:[Z.mk,Z.sg,Z.O5,v.BJ,v.YG,v.PM,v.FN,v.wI,v.W2,v.IJ,v.W4,v.fr,v.Gu,v.gu,v.Xz,v.Ie,v.Q$,v.q_,v.Nd,v.yW,v.sr,v.wd,Z.gd,Z.H9],styles:[".total[_ngcontent-%COMP%]{background-color:#497cd5;height:30px;padding:7px;color:#fff;font-family:Gilroy-ExtraBold!important;margin:auto 5%;font-size:1.2em;font-weight:900;border-radius:10px;display:flex;align-items:center}.driver-item[_ngcontent-%COMP%]{width:90%;padding:0;margin:10px auto;color:#fff;--background: #49158c;border-radius:40px;font-weight:700;text-transform:uppercase}.time[_ngcontent-%COMP%]{display:flex;width:100%;align-items:center;background:white}.time[_ngcontent-%COMP%]   ion-button[_ngcontent-%COMP%]{z-index:1}.time[_ngcontent-%COMP%]   #hms[_ngcontent-%COMP%]{color:#000;font-size:.8em;z-index:1;letter-spacing:8px;margin-top:5px;font-weight:900;font-family:Gilroy-ExtraBold!important;margin-left:5px}.driver-item[_ngcontent-%COMP%]   ion-button[_ngcontent-%COMP%]{color:#fff}.card-absolute[_ngcontent-%COMP%]{position:absolute;bottom:64px;left:0;right:0;margin:auto 10%;padding:-5px;border-radius:30px}.card-absolute[_ngcontent-%COMP%]   ion-button.view-detail[_ngcontent-%COMP%]{--border-radius: 40px;border-radius:0;--border-radius: 30px !important;left:0;right:0;z-index:1000;margin:0;padding:-5px;--background: #3880ff}.card-absolute[_ngcontent-%COMP%]   ion-button.state[_ngcontent-%COMP%]{--padding-start: 0;--padding-end: 0;width:100%;min-width:70px;margin:5px auto;font-size:2em}.card-absolute[_ngcontent-%COMP%]   ion-button.state.completed[_ngcontent-%COMP%]{height:100%;font-size:1.5em}.card-absolute[_ngcontent-%COMP%]   ion-button.state.completed.cancelled[_ngcontent-%COMP%]{filter:grayscale(1)}.card-absolute[_ngcontent-%COMP%]   ion-button.state[_ngcontent-%COMP%]   ion-icon[_ngcontent-%COMP%]{font-size:1.5em}.card-absolute[_ngcontent-%COMP%]   ion-button.state[_ngcontent-%COMP%]   img[_ngcontent-%COMP%], .card-absolute[_ngcontent-%COMP%]   ion-button.state[_ngcontent-%COMP%]   lottie-player[_ngcontent-%COMP%], .card-absolute[_ngcontent-%COMP%]   ion-button.state[_ngcontent-%COMP%]   ng-lottie[_ngcontent-%COMP%]{height:65px;width:65px;border:2px solid #0eda0e;border-radius:100%}.card-absolute[_ngcontent-%COMP%]   ion-button.border-top-gray[_ngcontent-%COMP%]{border-top:1px solid #ccc}.card-absolute[_ngcontent-%COMP%]   p.status_message[_ngcontent-%COMP%]{font-size:1.1em;font-weight:bolder;color:#000;min-height:72px}.card-absolute[_ngcontent-%COMP%]   .cancel[_ngcontent-%COMP%]{position:relative}.card-absolute[_ngcontent-%COMP%]   .cancel[_ngcontent-%COMP%]   ion-button[_ngcontent-%COMP%]{position:absolute;bottom:0;width:100%;left:0}.card-absolute[_ngcontent-%COMP%]   .shop_image[_ngcontent-%COMP%]{width:90px;height:90px;border-radius:50%}.timeline-title[_ngcontent-%COMP%]{margin-left:10px}.timeline-title[_ngcontent-%COMP%]   .badge[_ngcontent-%COMP%]{background:#2dd36f;padding:4px 8px;border-radius:3px;font-size:12px;font-weight:700;color:#fff}.timeline-title[_ngcontent-%COMP%]   .badge.success[_ngcontent-%COMP%]{background-color:#497cd5!important}.timeline-title[_ngcontent-%COMP%]   .badge.warning[_ngcontent-%COMP%]{background-color:#fd5d93!important}.timeline-title[_ngcontent-%COMP%]   .badge.danger[_ngcontent-%COMP%]{background-color:#ff8d72!important}.timeline-title[_ngcontent-%COMP%]   .badge.in-proccess[_ngcontent-%COMP%]{background:#2dd36f}.timeline-title[_ngcontent-%COMP%]   .badge.not-effective[_ngcontent-%COMP%]{background-color:#1e1e2f}.card-absolute-normal[_ngcontent-%COMP%]{position:absolute;bottom:0px;left:0;right:0;margin:auto 5%;padding:-5px;border-radius:30px 30px 10px 10px;box-shadow:none}.card-absolute-normal[_ngcontent-%COMP%]   .view-detail[_ngcontent-%COMP%]{border-radius:26px 26px 0 0;left:0;right:0;text-transform:uppercase;z-index:1000;font-weight:900;text-align:center;color:#fff;margin:0;padding:10px;background:#497cd5}.card-absolute-normal[_ngcontent-%COMP%]   .toolbar[_ngcontent-%COMP%]{border-radius:20px;width:100%;margin:auto;--background: transparent}.card-absolute-normal[_ngcontent-%COMP%]   .toolbar[_ngcontent-%COMP%]   ion-item[_ngcontent-%COMP%]{--background: transparent}.card-absolute-normal[_ngcontent-%COMP%]   .toolbar[_ngcontent-%COMP%]   ion-item[_ngcontent-%COMP%]   ion-avatar[_ngcontent-%COMP%]{padding:2px;border:2px solid white;width:70px;height:70px}.card-absolute-normal[_ngcontent-%COMP%]   .toolbar[_ngcontent-%COMP%]   ion-item[_ngcontent-%COMP%]   .status[_ngcontent-%COMP%]{position:absolute;right:10px;padding-left:10px;color:#fff;border-radius:30px 0 0 30px;width:45%;font-size:.7em;bottom:0;height:25px;display:flex;align-items:center}.card-absolute-normal[_ngcontent-%COMP%]   .toolbar[_ngcontent-%COMP%]   ion-item[_ngcontent-%COMP%]   .status.completed[_ngcontent-%COMP%]{background-color:red;--background:red}.card-absolute-normal[_ngcontent-%COMP%]   .toolbar[_ngcontent-%COMP%]   ion-item[_ngcontent-%COMP%]   .status.in-process[_ngcontent-%COMP%]{background-color:#497cd5}.card-absolute-normal[_ngcontent-%COMP%]   .toolbar[_ngcontent-%COMP%]   ion-item[_ngcontent-%COMP%]   .status.not-effective[_ngcontent-%COMP%]{background-color:#1e1e2f}.card-absolute-normal[_ngcontent-%COMP%]   .div-max-height[_ngcontent-%COMP%]{max-height:200px;overflow:auto;transition:height 2s}.card-absolute-normal[_ngcontent-%COMP%]   ion-badge[_ngcontent-%COMP%]{padding:5px;margin-left:5px}.status-success[_ngcontent-%COMP%]{background-color:#00bf9a;--background:($success);border-radius:20px;box-shadow:none}.status-success[_ngcontent-%COMP%]::part(native){border-radius:20px;box-shadow:none}.v-none[_ngcontent-%COMP%]{visibility:hidden}.status-completed[_ngcontent-%COMP%]{background-color:red;--background:red;border-radius:20px;box-shadow:none}.status-completed[_ngcontent-%COMP%]::part(native){border-radius:20px;box-shadow:none}.status-in-process[_ngcontent-%COMP%]{background-color:#497cd5;--background: $primary;border-radius:20px;box-shadow:none}.status-in-process[_ngcontent-%COMP%]   [_ngcontent-%COMP%]::part(native){border-radius:20px;box-shadow:none}.status-not-effective[_ngcontent-%COMP%]{background-color:#1e1e2f;--background:$dark;border-radius:20px;box-shadow:none}.status-not-effective[_ngcontent-%COMP%]   [_ngcontent-%COMP%]::part(native){border-radius:20px;box-shadow:none}.view-detail-button[_ngcontent-%COMP%]{margin:auto;width:80%;position:absolute;bottom:15px;right:0;left:0}"]}),n})()}}]);