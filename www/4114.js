"use strict";(self.webpackChunkapp=self.webpackChunkapp||[]).push([[4114],{4114:(le,h,c)=>{c.r(h),c.d(h,{SignupBusinessPageModule:()=>ae});var g,d=c(9808),r=c(4182),u=c(9928),_=c(3769),m=c(655),b=c(7125),y=new Uint8Array(16);function T(){if(!g&&!(g="undefined"!=typeof crypto&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto)||"undefined"!=typeof msCrypto&&"function"==typeof msCrypto.getRandomValues&&msCrypto.getRandomValues.bind(msCrypto)))throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");return g(y)}const q=/^(?:[0-9a-f]{8}-[0-9a-f]{4}-[1-5][0-9a-f]{3}-[89ab][0-9a-f]{3}-[0-9a-f]{12}|00000000-0000-0000-0000-000000000000)$/i,x=function v(i){return"string"==typeof i&&q.test(i)};for(var l=[],f=0;f<256;++f)l.push((f+256).toString(16).substr(1));const U=function A(i,s,o){var n=(i=i||{}).random||(i.rng||T)();if(n[6]=15&n[6]|64,n[8]=63&n[8]|128,s){o=o||0;for(var t=0;t<16;++t)s[o+t]=n[t];return s}return function w(i){var s=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,o=(l[i[s+0]]+l[i[s+1]]+l[i[s+2]]+l[i[s+3]]+"-"+l[i[s+4]]+l[i[s+5]]+"-"+l[i[s+6]]+l[i[s+7]]+"-"+l[i[s+8]]+l[i[s+9]]+"-"+l[i[s+10]]+l[i[s+11]]+l[i[s+12]]+l[i[s+13]]+l[i[s+14]]+l[i[s+15]]).toLowerCase();if(!x(o))throw TypeError("Stringified UUID is invalid");return o}(n)};var e=c(5e3),S=c(1892),B=c(1335);function J(i,s){1&i&&(e.TgZ(0,"ion-label"),e._uU(1,"Nombre es requerido"),e.qZA())}function N(i,s){if(1&i&&(e.TgZ(0,"ion-item",33),e._UZ(1,"ion-icon",34),e.YNc(2,J,2,0,"ion-label",35),e.qZA()),2&i){const o=e.oxw();e.xp6(2),e.Q6J("ngIf",o.controls.names.errors.required)}}function P(i,s){1&i&&(e.TgZ(0,"ion-label"),e._uU(1,"Apellidos es requerido"),e.qZA())}function C(i,s){if(1&i&&(e.TgZ(0,"ion-item",33),e._UZ(1,"ion-icon",34),e.YNc(2,P,2,0,"ion-label",35),e.qZA()),2&i){const o=e.oxw();e.xp6(2),e.Q6J("ngIf",o.controls.lastnames.errors.required)}}function Q(i,s){1&i&&(e.TgZ(0,"ion-label"),e._uU(1,"Direcci\xf3n es requerida"),e.qZA())}function Y(i,s){if(1&i&&(e.TgZ(0,"ion-item",36),e._UZ(1,"ion-icon",34),e.YNc(2,Q,2,0,"ion-label",35),e.qZA()),2&i){const o=e.oxw();e.xp6(2),e.Q6J("ngIf",o.controls.address.errors.required)}}function k(i,s){if(1&i&&(e.TgZ(0,"ion-select-option",37),e._uU(1),e.qZA()),2&i){const o=s.$implicit;e.Q6J("value",o.id),e.xp6(1),e.hij("",o.name," ")}}function E(i,s){1&i&&(e.TgZ(0,"ion-label"),e._uU(1,"La ciudad es requerida"),e.qZA())}function F(i,s){if(1&i&&(e.TgZ(0,"ion-item",33),e._UZ(1,"ion-icon",34),e.YNc(2,E,2,0,"ion-label",35),e.qZA()),2&i){const o=e.oxw();e.xp6(2),e.Q6J("ngIf",o.controls.city.errors.required)}}function G(i,s){1&i&&(e.TgZ(0,"ion-label"),e._uU(1,"El tel\xe9fono es requerido"),e.qZA())}function V(i,s){1&i&&(e.TgZ(0,"ion-label"),e._uU(1," Debe ser 10 d\xedgitos "),e.qZA())}function z(i,s){1&i&&(e.TgZ(0,"ion-label"),e._uU(1,"El t\xe9lefono es un valor num\xe9rico"),e.qZA())}function L(i,s){if(1&i&&(e.TgZ(0,"ion-item",33),e._UZ(1,"ion-icon",34),e.YNc(2,G,2,0,"ion-label",35),e.YNc(3,V,2,0,"ion-label",35),e.YNc(4,z,2,0,"ion-label",35),e.qZA()),2&i){const o=e.oxw();e.xp6(2),e.Q6J("ngIf",o.controls.phone.errors.required),e.xp6(1),e.Q6J("ngIf",o.controls.phone.errors.minlength||o.controls.phone.errors.maxlength),e.xp6(1),e.Q6J("ngIf",o.controls.phone.errors.pattern)}}function R(i,s){1&i&&(e.TgZ(0,"ion-label"),e._uU(1,"El nombre de la empresa es requerido"),e.qZA())}function M(i,s){if(1&i&&(e.TgZ(0,"ion-item",33),e._UZ(1,"ion-icon",34),e.YNc(2,R,2,0,"ion-label",35),e.qZA()),2&i){const o=e.oxw();e.xp6(2),e.Q6J("ngIf",o.controls.business_name.errors.required)}}function j(i,s){1&i&&(e.TgZ(0,"ion-label"),e._uU(1,"El nit de la empresa es requerido"),e.qZA())}function D(i,s){if(1&i&&(e.TgZ(0,"ion-item",33),e._UZ(1,"ion-icon",34),e.YNc(2,j,2,0,"ion-label",35),e.qZA()),2&i){const o=e.oxw();e.xp6(2),e.Q6J("ngIf",o.controls.nit.errors.required)}}function O(i,s){1&i&&(e.TgZ(0,"ion-label"),e._uU(1,"El cargo de la empresa es requerido"),e.qZA())}function K(i,s){if(1&i&&(e.TgZ(0,"ion-item",33),e._UZ(1,"ion-icon",34),e.YNc(2,O,2,0,"ion-label",35),e.qZA()),2&i){const o=e.oxw();e.xp6(2),e.Q6J("ngIf",o.controls.position.errors.required)}}function $(i,s){1&i&&(e.TgZ(0,"ion-label"),e._uU(1,"Email es requerido"),e.qZA())}function H(i,s){1&i&&(e.TgZ(0,"ion-label"),e._uU(1,"Debe ser un email v\xe1lido "),e.qZA())}function W(i,s){if(1&i&&(e.TgZ(0,"ion-item",33),e._UZ(1,"ion-icon",34),e.YNc(2,$,2,0,"ion-label",35),e.YNc(3,H,2,0,"ion-label",35),e.qZA()),2&i){const o=e.oxw();e.xp6(2),e.Q6J("ngIf",o.controls.email.errors.required),e.xp6(1),e.Q6J("ngIf",o.controls.email.errors.email||o.controls.email.errors.pattern)}}function X(i,s){1&i&&(e.TgZ(0,"ion-label"),e._uU(1,"La contrase\xf1a es requerida"),e.qZA())}function ee(i,s){1&i&&(e.TgZ(0,"ion-label"),e._uU(1,"La contrase\xf1a debe ser de 8 a 16 caracteres"),e.qZA())}function ie(i,s){if(1&i&&(e.TgZ(0,"ion-item",33),e._UZ(1,"ion-icon",34),e.YNc(2,X,2,0,"ion-label",35),e.YNc(3,ee,2,0,"ion-label",35),e.qZA()),2&i){const o=e.oxw();e.xp6(2),e.Q6J("ngIf",o.controls.password.errors.required),e.xp6(1),e.Q6J("ngIf",o.controls.password.errors.minlength||o.controls.password.errors.maxlength)}}function ne(i,s){1&i&&(e.TgZ(0,"ion-label"),e._uU(1,"La contrase\xf1a es requerida"),e.qZA())}function oe(i,s){1&i&&(e.TgZ(0,"ion-label"),e._uU(1,"Las contrase\xf1as no coinciden"),e.qZA())}function se(i,s){if(1&i&&(e.TgZ(0,"ion-item",33),e._UZ(1,"ion-icon",34),e.YNc(2,ne,2,0,"ion-label",35),e.YNc(3,oe,2,0,"ion-label",35),e.qZA()),2&i){const o=e.oxw();e.xp6(2),e.Q6J("ngIf",o.controls.password_confirm.errors.required),e.xp6(1),e.Q6J("ngIf",o.controls.password_confirm.errors.mustMatch)}}const Z=function(i){return{strong:i}},te=[{path:"",component:(()=>{class i{constructor(o,n,t,a){this.ui=o,this.request=n,this.router=t,this.fb=a,this.types=[],this.cities=[],this.city={name:"Barranquilla"},this.type={name:"Cedula de Ciudadan\xeda"},this.view=!1,this.view_confirm=!1,this.businessInformation=this.fb.group({names:["",r.kI.required],lastnames:["",r.kI.required],business_name:["",r.kI.required],nit:[""],city:[4,r.kI.required],dni_type_id:[10,r.kI.required],dni:[""],address:["",r.kI.required],phone:["",[r.kI.required,r.kI.minLength(10),r.kI.maxLength(10),r.kI.pattern("^[0-9]*$")]],email:["",[r.kI.required,r.kI.pattern("[A-Za-z0-9._%+-]{3,}@[a-zA-Z]{2,}([.]{1}[a-zA-Z]{2,}|[.]{1}[a-zA-Z]{2,}[.]{1}[a-zA-Z]{2,})")]],password:["",[r.kI.required,r.kI.minLength(8),r.kI.maxLength(16)]],password_confirm:["",r.kI.required],position:["",r.kI.required],terms:[!1,r.kI.requiredTrue]},{validators:(0,b.G)("password","password_confirm")})}goToLogin(){this.router.navigate(["/login"])}get controls(){return this.businessInformation.controls}setView(){this.view=!this.view}setViewConfirm(){this.view_confirm=!this.view_confirm}ionViewWillEnter(){return(0,m.mG)(this,void 0,void 0,function*(){console.log("Hash",U()),this.route=this.router.url;const o=yield this.ui.loading("Por favor espere...");this.request.get("indexcities").subscribe(n=>(0,m.mG)(this,void 0,void 0,function*(){this.cities=n.data,this.city=this.cities.find(t=>t.id==this.controls.city.value),this.controls.city.valueChanges.subscribe(t=>{console.log("Change city",t),this.city=this.cities.find(a=>a.id==t),console.log("Change city",this.city)}),this.request.get("list/attributes?parameter_id=4").subscribe(t=>(0,m.mG)(this,void 0,void 0,function*(){(yield o).dismiss(),this.types=t.data,this.type=this.types.find(a=>10==a.id),this.controls.dni_type_id.valueChanges.subscribe(a=>{this.type=this.types.find(p=>p.id==a)})}),t=>(0,m.mG)(this,void 0,void 0,function*(){(yield o).dismiss()}))}),n=>{this.request.get("list/attributes?parameter_id=4").subscribe(t=>(0,m.mG)(this,void 0,void 0,function*(){(yield o).dismiss(),this.types=t.data,this.type=this.types.find(a=>10==a.id),this.controls.dni_type_id.valueChanges.subscribe(a=>{this.type=this.types.find(p=>p.id==a)})}),t=>(0,m.mG)(this,void 0,void 0,function*(){(yield o).dismiss()}))})})}goToClient(){this.router.navigate(["select-type/client"])}ngOnInit(){return(0,m.mG)(this,void 0,void 0,function*(){})}save(o){return(0,m.mG)(this,void 0,void 0,function*(){if(this.businessInformation.valid){const n=yield this.ui.loading("Por favor espere..."),t=Object.assign({},this.businessInformation.value);console.log("Information",t);const a={dni_type_id:t.dni_type_id,dni:t.dni,business_name:t.business_name,nit:t.nit,position:t.position,first_name:t.names,last_name:t.lastnames,city:t.city,address:t.address,phone:t.phone,email:t.email,password:t.password,city_id:this.city.id,country:"CO",state_id:this.city.state_id,password_confirm:t.password_confirm};console.log("Parameters",a),this.request.post("signin/4",a).subscribe(p=>(0,m.mG)(this,void 0,void 0,function*(){(yield n).dismiss(),this.ui.showToast("Usuario registrado exitosamente",()=>{o.resetForm(),this.businessInformation.reset(),this.router.navigate(["/login"])}),console.log(p.data)}),p=>(0,m.mG)(this,void 0,void 0,function*(){(yield n).dismiss(),console.log("errorrrr",p.error.messages[0]),this.ui.showToast(p.error.messages[0])}))}else Object.keys(this.businessInformation.controls).map(t=>{this.businessInformation.get(t).invalid&&console.log("This is invalid",t)})})}}return i.\u0275fac=function(o){return new(o||i)(e.Y36(S.F),e.Y36(B.s),e.Y36(_.F0),e.Y36(r.qu))},i.\u0275cmp=e.Xpm({type:i,selectors:[["app-signup-business"]],decls:65,vars:26,consts:[[1,"warning-gradient-sign-up"],["fill","clear",3,"click"],["name","arrow-back-outline",2,"color","#49158c","font-size","1.3em"],[1,"ion-text-center","margin-top-15vh","ion-padding-bottom",2,"width","60%","margin","auto"],["src","assets/imgs/logo zapp.png",2,"width","170px","height","70px"],[2,"width","80%","margin","auto","margin-top","10%"],[1,"ion-text-center",2,"display","block"],["fill","clear",3,"ngClass","click"],[3,"name"],["fill","clear",3,"ngClass"],["novalidate","",3,"formGroup"],["formDirective","ngForm"],["lines","none",1,"input-text","ion-margin-top"],["placeholder","Nombre","formControlName","names","required",""],["lines","none","class","danger-color-text",4,"ngIf"],["placeholder","Apellidos","formControlName","lastnames","required",""],["placeholder","Direcci\xf3n","formControlName","address","required",""],["class","danger-color-text",4,"ngIf"],["placeholder","Seleccione una ciudad","name","city","formControlName","city","mode","ios",2,"display","contents",3,"selectedText"],[3,"value",4,"ngFor","ngForOf"],["placeholder","Tel\xe9fono","formControlName","phone","required",""],["placeholder","Nombre Empresa","formControlName","business_name","required",""],["placeholder","Nit","formControlName","nit","required",""],["placeholder","Cargo","formControlName","position","required",""],["placeholder","Email","formControlName","email","type","email","required",""],["placeholder","Contrase\xf1a","formControlName","password","required","",3,"type"],["slot","end",3,"name","click"],["placeholder","Repetir Contrase\xf1a","formControlName","password_confirm","required","",3,"type"],["href","https://www.zapplogistica.com/privacy/","target","_blank","rel","noopener noreferrer","color","primary",1,"ion-margin-top","ion-text-center",2,"font-size","1.2em","display","block","color","#1c024b"],["lines","none"],[1,"ion-text-justify"],["slot","start","formControlName","terms",2,"margin-right","10px"],["type","submit","expand","block","mode","ios","color","primary",1,"ion-margin-top",3,"click"],["lines","none",1,"danger-color-text"],["name","alert-circle","slot","start",1,"danger-color-text"],[4,"ngIf"],[1,"danger-color-text"],[3,"value"]],template:function(o,n){if(1&o){const t=e.EpF();e.TgZ(0,"ion-content",0)(1,"ion-button",1),e.NdJ("click",function(){return n.goToLogin()}),e._UZ(2,"ion-icon",2),e.qZA(),e.TgZ(3,"div",3),e._UZ(4,"img",4),e.qZA(),e.TgZ(5,"div",5)(6,"h4"),e._uU(7,"Crear cuenta"),e.qZA(),e.TgZ(8,"ion-card-header",6)(9,"ion-button",7),e.NdJ("click",function(){return n.goToClient()}),e._UZ(10,"ion-icon",8)(11,"br"),e.TgZ(12,"ion-label"),e._uU(13,"Cliente"),e.qZA()(),e.TgZ(14,"ion-button",9),e._UZ(15,"ion-icon",8)(16,"br"),e.TgZ(17,"ion-label"),e._uU(18,"Empresa"),e.qZA()()(),e.TgZ(19,"form",10,11)(21,"ion-item",12),e._UZ(22,"ion-input",13),e.qZA(),e.YNc(23,N,3,1,"ion-item",14),e.TgZ(24,"ion-item",12),e._UZ(25,"ion-input",15),e.qZA(),e.YNc(26,C,3,1,"ion-item",14),e.TgZ(27,"ion-item",12),e._UZ(28,"ion-input",16),e.qZA(),e.YNc(29,Y,3,1,"ion-item",17),e.TgZ(30,"ion-item",12)(31,"ion-select",18),e.YNc(32,k,2,2,"ion-select-option",19),e.qZA()(),e.YNc(33,F,3,1,"ion-item",14),e.TgZ(34,"ion-item",12),e._UZ(35,"ion-input",20),e.qZA(),e.YNc(36,L,5,3,"ion-item",14),e.TgZ(37,"ion-item",12),e._UZ(38,"ion-input",21),e.qZA(),e.YNc(39,M,3,1,"ion-item",14),e.TgZ(40,"ion-item",12),e._UZ(41,"ion-input",22),e.qZA(),e.YNc(42,D,3,1,"ion-item",14),e.TgZ(43,"ion-item",12),e._UZ(44,"ion-input",23),e.qZA(),e.YNc(45,K,3,1,"ion-item",14),e.TgZ(46,"ion-item",12),e._UZ(47,"ion-input",24),e.qZA(),e.YNc(48,W,4,2,"ion-item",14),e.TgZ(49,"ion-item",12),e._UZ(50,"ion-input",25),e.TgZ(51,"ion-icon",26),e.NdJ("click",function(){return n.setView()}),e.qZA()(),e.YNc(52,ie,4,2,"ion-item",14),e.TgZ(53,"ion-item",12),e._UZ(54,"ion-input",27),e.TgZ(55,"ion-icon",26),e.NdJ("click",function(){return n.setViewConfirm()}),e.qZA()(),e.YNc(56,se,4,2,"ion-item",14),e.TgZ(57,"a",28),e._uU(58,"Ver t\xe9rminos y condiciones"),e.qZA(),e.TgZ(59,"ion-item",29)(60,"ion-label",30),e._uU(61,"Aceptar los t\xe9rminos y condiciones"),e.qZA(),e._UZ(62,"ion-checkbox",31),e.qZA(),e.TgZ(63,"ion-button",32),e.NdJ("click",function(){e.CHM(t);const p=e.MAs(20);return e.KtG(n.save(p))}),e._uU(64," REGISTRARSE "),e.qZA()()()()}2&o&&(e.xp6(9),e.Q6J("ngClass",e.VKq(22,Z,"/select-type/client"==n.route)),e.xp6(1),e.Q6J("name","/select-type/client"==n.route?"person":"person-outline"),e.xp6(4),e.Q6J("ngClass",e.VKq(24,Z,"/select-type/business"==n.route)),e.xp6(1),e.Q6J("name","/select-type/business"==n.route?"business":"business-outline"),e.xp6(4),e.Q6J("formGroup",n.businessInformation),e.xp6(4),e.Q6J("ngIf",n.controls.names.dirty&&n.controls.names.touched&&n.controls.names.errors),e.xp6(3),e.Q6J("ngIf",n.controls.lastnames.dirty&&n.controls.lastnames.touched&&n.controls.lastnames.errors),e.xp6(3),e.Q6J("ngIf",n.controls.address.dirty&&n.controls.address.touched&&n.controls.address.errors),e.xp6(2),e.Q6J("selectedText",n.city.name),e.xp6(1),e.Q6J("ngForOf",n.cities),e.xp6(1),e.Q6J("ngIf",n.controls.city.dirty&&n.controls.city.touched&&n.controls.city.errors),e.xp6(3),e.Q6J("ngIf",n.controls.phone.dirty&&n.controls.phone.touched&&n.controls.phone.errors),e.xp6(3),e.Q6J("ngIf",n.controls.business_name.dirty&&n.controls.business_name.touched&&n.controls.business_name.errors),e.xp6(3),e.Q6J("ngIf",n.controls.nit.dirty&&n.controls.nit.touched&&n.controls.nit.errors),e.xp6(3),e.Q6J("ngIf",n.controls.position.dirty&&n.controls.position.touched&&n.controls.position.errors),e.xp6(3),e.Q6J("ngIf",n.controls.email.dirty&&n.controls.email.touched&&n.controls.email.errors),e.xp6(2),e.Q6J("type",n.view?"text":"password"),e.xp6(1),e.Q6J("name",n.view?"eye-outline":"eye-off-outline"),e.xp6(1),e.Q6J("ngIf",n.controls.password.dirty&&n.controls.password.touched&&n.controls.password.errors),e.xp6(2),e.Q6J("type",n.view_confirm?"text":"password"),e.xp6(1),e.Q6J("name",n.view_confirm?"eye-outline":"eye-off-outline"),e.xp6(1),e.Q6J("ngIf",n.controls.password_confirm.dirty&&n.controls.password_confirm.touched&&n.controls.password_confirm.errors))},dependencies:[d.mk,d.sg,d.O5,r._Y,r.JJ,r.JL,r.Q7,r.sg,r.u,u.YG,u.Zi,u.nz,u.W2,u.gu,u.pK,u.Ie,u.Q$,u.t9,u.n0,u.w,u.QI,u.j9]}),i})()}];let re=(()=>{class i{}return i.\u0275fac=function(o){return new(o||i)},i.\u0275mod=e.oAB({type:i}),i.\u0275inj=e.cJS({imports:[_.Bz.forChild(te),_.Bz]}),i})(),ae=(()=>{class i{}return i.\u0275fac=function(o){return new(o||i)},i.\u0275mod=e.oAB({type:i}),i.\u0275inj=e.cJS({imports:[d.ez,r.u5,r.UX,u.Pc,re]}),i})()}}]);