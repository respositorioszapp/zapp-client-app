"use strict";(self.webpackChunkapp=self.webpackChunkapp||[]).push([[8486],{8486:(x,_,i)=>{i.r(_),i.d(_,{OrderDetailTimelinePageModule:()=>h});var e=i(9808),u=i(4182),p=i(9928),d=i(3769),a=i(4008),g=i(5e3);const c=[{path:"",component:a.R}];let m=(()=>{class s{}return s.\u0275fac=function(O){return new(O||s)},s.\u0275mod=g.oAB({type:s}),s.\u0275inj=g.cJS({imports:[d.Bz.forChild(c),d.Bz]}),s})(),h=(()=>{class s{}return s.\u0275fac=function(O){return new(O||s)},s.\u0275mod=g.oAB({type:s}),s.\u0275inj=g.cJS({imports:[e.ez,u.u5,p.Pc,m]}),s})()},4008:(x,_,i)=>{i.d(_,{R:()=>v});var e=i(5e3),u=i(1892),p=i(9099),d=i(9808),a=i(9928);function g(n,l){1&n&&(e.ynx(0),e.TgZ(1,"ion-item",14)(2,"ion-button",15),e._uU(3," Vuelta "),e.qZA()(),e.BQk())}function c(n,l){if(1&n&&(e.TgZ(0,"div",16)(1,"div",17),e._uU(2),e.qZA()()),2&n){const t=e.oxw().$implicit;e.xp6(2),e.lnq("",t.timer.hours>9?t.timer.hours:"0"+t.timer.hours,":",t.timer.minutes>9?t.timer.minutes:"0"+t.timer.minutes,":",t.timer.seconds>9?t.timer.seconds:"0"+t.timer.seconds,"")}}function m(n,l){if(1&n&&(e.ynx(0),e.TgZ(1,"div")(2,"p",18),e._uU(3),e.ALo(4,"currency"),e.qZA()(),e.BQk()),2&n){const t=e.oxw().$implicit;e.xp6(3),e.hij("Total:",e.gM2(4,1,t.total_charge,"","symbol","1.0"),"")}}function h(n,l){if(1&n&&(e.TgZ(0,"div",8)(1,"div"),e._UZ(2,"i",9),e._uU(3),e.qZA(),e.TgZ(4,"div",10),e.YNc(5,g,4,0,"ng-container",11),e.TgZ(6,"h2"),e._uU(7),e.qZA(),e.TgZ(8,"h4",12)(9,"span"),e._uU(10),e.qZA()(),e.TgZ(11,"p"),e._uU(12),e.qZA(),e.TgZ(13,"p"),e._uU(14),e.qZA(),e.YNc(15,c,3,3,"div",13),e.YNc(16,m,5,6,"ng-container",11),e.qZA()()),2&n){const t=l.$implicit,o=l.index,r=e.oxw(2);e.xp6(1),e.Tol("timeline-icon "+r.store_states[t.status].class),e.xp6(2),e.hij("",o+1," "),e.xp6(2),e.Q6J("ngIf",1==r.order.round_trip&&o==r.order.details.length-1),e.xp6(2),e.hij("Novedad ",t.id,""),e.xp6(2),e.Tol("badge "+r.store_states[t.status].class),e.xp6(1),e.Oqu(r.store_states[t.status].message),e.xp6(2),e.Oqu(t.address),e.xp6(2),e.Oqu(t.description),e.xp6(1),e.Q6J("ngIf",t.timer),e.xp6(1),e.Q6J("ngIf",1==r.order.diligence)}}function s(n,l){if(1&n&&(e.ynx(0),e.YNc(1,h,17,12,"div",7),e.BQk()),2&n){const t=e.oxw();e.xp6(1),e.Q6J("ngForOf",t.order.details)}}function f(n,l){1&n&&(e.ynx(0),e.TgZ(1,"ion-button",19),e._uU(2," Vuelta "),e.qZA(),e.BQk())}function O(n,l){if(1&n&&(e.ynx(0),e.TgZ(1,"div")(2,"p",20),e._uU(3),e.qZA(),e.TgZ(4,"p",18),e._uU(5),e.ALo(6,"currency"),e.qZA()(),e.BQk()),2&n){const t=e.oxw().$implicit;e.xp6(3),e.hij("Tiempo de espera:",t.wait_time," minutos"),e.xp6(2),e.hij("Total:",e.gM2(6,2,t.surplus_money,"","symbol","1.0"),"")}}function M(n,l){if(1&n&&(e.TgZ(0,"div",8)(1,"div"),e._UZ(2,"i",9),e._uU(3),e.qZA(),e.TgZ(4,"div",10),e.YNc(5,f,3,0,"ng-container",11),e.TgZ(6,"h2"),e._uU(7),e.qZA(),e.TgZ(8,"h4",12)(9,"span"),e._uU(10),e.qZA()(),e.TgZ(11,"p"),e._uU(12),e.qZA(),e.TgZ(13,"p"),e._uU(14),e.qZA(),e.YNc(15,O,7,7,"ng-container",11),e.qZA()()),2&n){const t=l.$implicit,o=l.index,r=e.oxw(2);e.xp6(1),e.Tol("timeline-icon "+r.store_states[t.status].class),e.xp6(2),e.hij("",o+1," "),e.xp6(2),e.Q6J("ngIf",1==r.order.round_trip&&o==r.order.details.length-1),e.xp6(2),e.hij("Novedad ",t.id,""),e.xp6(2),e.Tol("badge "+r.store_states[t.status].class),e.xp6(1),e.Oqu(r.store_states[t.status].message),e.xp6(2),e.Oqu(t.address),e.xp6(2),e.Oqu(t.description),e.xp6(1),e.Q6J("ngIf",1==r.order.diligence)}}function C(n,l){if(1&n&&e.YNc(0,M,16,11,"div",7),2&n){const t=e.oxw();e.Q6J("ngForOf",t.order.details)}}let v=(()=>{class n{constructor(t,o){this.ui=t,this.realtime=o,this.store_states={52:{message:"Tu orden ha sido recibida y pronto ser\xe1 confirmada.",json:"/assets/lottie-files/1-confirmed.json",state:52},53:{message:"Tu orden ha sido confirmada y se est\xe1 preparando.",json:"/assets/lottie-files/2-order-packed.json",state:53,icon:"order-inproccess"},54:{message:"El mensajero va en camino a tu ubicaci\xf3n. ",json:"/assets/lottie-files/3-delivery-riding.json",state:54,icon:"deliverygo"},55:{message:"\xa1El mensajero ha llegado! Recibe tu pedido. ",json:"/assets/lottie-files/4-food-delivery.json",state:55,icon:"delivery-location"},57:{message:"La orden ha sido finalizada",json:"/assets/lottie-files/4-food-delivery.json",state:57,icon:"delivery-location"},58:{message:"La orden fue cancelada",json:"/assets/lottie-files/4-food-delivery.json",state:58,icon:"delivery-location"},59:{message:"Ubicando el repartidor m\xe1s cercano...",json:"/assets/lottie-files/4-food-delivery.json",state:58,icon:"delivery-location"},22:{message:"No Asignada",state:22,class:"danger"},24:{message:"En proceso",state:24,class:"in-proccess"},25:{message:"Finalizada",state:25,class:"success"},31:{message:"Cancelada",state:31,class:"warning"},36:{message:"Cancelada por mensajero",state:36,class:"danger"},48:{message:"Orden no efectiva",state:48,color:"dark"}}}ngOnInit(){this.order.details||(this.order.details=this.order.detail)}ionViewWillEnter(){this.order.details||(this.order.details=this.order.detail),this.orderActive&&this.realtime.getFirebaseCollectionList(`order_detail_report/${this.order.id}`).subscribe(t=>{null!=t&&(t.length>0?t.forEach(o=>{let r=this.order.details.findIndex(P=>P.id==o.id);if(-1!=r){const P=o.timer?o.timer.minutes:0,b=o.total_charge?Number(o.total_charge):0;this.order.details[r]=Object.assign(Object.assign({},o),{wait_time:P,surplus_money:b}),console.log("Order Details",this.order.details)}else console.log("No encontrado")}):console.log("Array vac\xedo"))})}get orderActive(){return 31!=this.order.status_order&&48!=this.order.status_order&&25!=this.order.status_order&&36!=this.order.status_order}dismiss(){this.ui.dismiss()}}return n.\u0275fac=function(t){return new(t||n)(e.Y36(u.F),e.Y36(p.i))},n.\u0275cmp=e.Xpm({type:n,selectors:[["app-order-detail-timeline"]],inputs:{order:"order"},decls:11,vars:3,consts:[["color","primary","mode","ios",2,"position","relative"],[2,"position","absolute","left","5px","bottom","14px"],[2,"position","absolute","right","5px","bottom","5px",3,"click"],["slot","icon-only","name","close-outline"],[1,"timeline"],[4,"ngIf","ngIfElse"],["elseTemplate",""],["class","timeline-container ",4,"ngFor","ngForOf"],[1,"timeline-container"],[1,"far","fa-grin-wink"],[1,"timeline-body"],[4,"ngIf"],[1,"timeline-title"],["class","time",4,"ngIf"],["lines","none",1,"ion-no-padding"],["fill","clear","slot","end"],[1,"time"],["id","hms"],[1,"ion-text-justify","grey-color-text"],["fill","clear"],[1,"ion-text-justify","black-color-text"]],template:function(t,o){if(1&t&&(e.TgZ(0,"ion-header")(1,"ion-toolbar",0)(2,"ion-title",1),e._uU(3),e.qZA(),e.TgZ(4,"ion-button",2),e.NdJ("click",function(){return o.dismiss()}),e._UZ(5,"ion-icon",3),e.qZA()()(),e.TgZ(6,"ion-content")(7,"div",4),e.YNc(8,s,2,1,"ng-container",5),e.YNc(9,C,1,1,"ng-template",null,6,e.W1O),e.qZA()()),2&t){const r=e.MAs(10);e.xp6(3),e.hij("Orden #",o.order.id," "),e.xp6(5),e.Q6J("ngIf",25!=o.order.status_order&&48!=o.order.status_order)("ngIfElse",r)}},dependencies:[d.sg,d.O5,a.YG,a.W2,a.Gu,a.gu,a.Ie,a.sr,a.wd,d.H9],styles:['@import"https://fonts.googleapis.com/css?family=Niramit:300,300i,700";ion-content[_ngcontent-%COMP%]{--background: #f2f2f2}*[_ngcontent-%COMP%]{margin:0;padding:0;box-sizing:border-box}body[_ngcontent-%COMP%]{font-family:K2D,sans-serif;background:#1e1e2f;letter-spacing:1px}.container[_ngcontent-%COMP%]{max-width:650px;margin:50px auto}p[_ngcontent-%COMP%]{font-weight:300;line-height:1.5;font-size:14px;opacity:.8}.timeline[_ngcontent-%COMP%]{position:relative;padding-left:2.45rem;margin:4px 0 0 23px;color:#222428}.timeline[_ngcontent-%COMP%]:before{content:"";position:absolute;left:0;top:0;width:4px;height:100%;background:rgba(195,194,195,.4901960784)}.timeline[_ngcontent-%COMP%]   .timeline-container[_ngcontent-%COMP%]{position:relative;margin-bottom:2.5rem}.timeline[_ngcontent-%COMP%]   .timeline-container[_ngcontent-%COMP%]   .timeline-icon[_ngcontent-%COMP%]{position:absolute;left:-55px;top:10px;width:35px;height:35px;border-radius:50%;text-align:center;font-size:1rem;padding:8px;color:#fff;background-color:#49158c}.timeline[_ngcontent-%COMP%]   .timeline-container[_ngcontent-%COMP%]   .timeline-icon[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{position:absolute;left:50%;top:50%;transform:translate(-50%,-50%)}.timeline[_ngcontent-%COMP%]   .timeline-container[_ngcontent-%COMP%]   .timeline-icon[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:100%;height:100%;border-radius:50%}.timeline[_ngcontent-%COMP%]   .timeline-container[_ngcontent-%COMP%]   .timeline-body[_ngcontent-%COMP%]{background:rgb(255,255,255);border-radius:3px;padding:20px 20px 15px;box-shadow:10px 7px 9px #0000001a}.timeline[_ngcontent-%COMP%]   .timeline-container[_ngcontent-%COMP%]   .timeline-body[_ngcontent-%COMP%]:before{content:"";background:inherit;width:20px;height:20px;display:block;position:absolute;left:-10px;transform:rotate(45deg);border-radius:0 0 0 2px}.timeline[_ngcontent-%COMP%]   .timeline-container[_ngcontent-%COMP%]   .timeline-body[_ngcontent-%COMP%]   .timeline-title[_ngcontent-%COMP%]{margin-bottom:1.4rem}.timeline[_ngcontent-%COMP%]   .timeline-container[_ngcontent-%COMP%]   .timeline-body[_ngcontent-%COMP%]   .timeline-title[_ngcontent-%COMP%]   .badge[_ngcontent-%COMP%]{background:#2dd36f!important;padding:4px 8px;border-radius:3px;font-size:12px;font-weight:700;color:#fff}.timeline[_ngcontent-%COMP%]   .timeline-container[_ngcontent-%COMP%]   .timeline-body[_ngcontent-%COMP%]   .timeline-subtitle[_ngcontent-%COMP%]{font-weight:300;font-style:italic;opacity:.4;margin-top:16px;font-size:11px}.author[_ngcontent-%COMP%]{font-family:inherit;padding:3em;text-align:center;width:100%;color:#fff}.author[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:link, .author[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:visited{color:#fff}.author[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:link:hover, .author[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:visited:hover{text-decoration:none}.author[_ngcontent-%COMP%]   .btn[_ngcontent-%COMP%]:link, .author[_ngcontent-%COMP%]   .btn[_ngcontent-%COMP%]:visited{margin-top:1em;text-decoration:none;display:inline-block;font-family:inherit;font-weight:100;color:#fff;text-align:center;vertical-align:middle;-webkit-user-select:none;-moz-user-select:none;user-select:none;background-color:#000;padding:1.5em 2rem;border-radius:1em;transition:.5s all}.author[_ngcontent-%COMP%]   .btn[_ngcontent-%COMP%]:link:hover, .author[_ngcontent-%COMP%]   .btn[_ngcontent-%COMP%]:link:focus, .author[_ngcontent-%COMP%]   .btn[_ngcontent-%COMP%]:link:active, .author[_ngcontent-%COMP%]   .btn[_ngcontent-%COMP%]:visited:hover, .author[_ngcontent-%COMP%]   .btn[_ngcontent-%COMP%]:visited:focus, .author[_ngcontent-%COMP%]   .btn[_ngcontent-%COMP%]:visited:active{background-color:#1a1a1a}.time[_ngcontent-%COMP%]{height:47px;display:flex;justify-content:center;background:white}.time[_ngcontent-%COMP%]   ion-button[_ngcontent-%COMP%]{z-index:1}.time[_ngcontent-%COMP%]   #hms[_ngcontent-%COMP%]{color:#000;font-size:2em;z-index:1;letter-spacing:8px}']}),n})()},9099:(x,_,i)=>{i.d(_,{i:()=>d});var e=i(5e3),u=i(2891),p=i(7556);let d=(()=>{class a{constructor(c,m){this.db=c,this.auth=m}setObject(c,m){this.db.object(c)}getFirebaseCollectionObject(c){return this.db.object(c).valueChanges()}getFirebaseCollectionList(c){return this.db.list(c).valueChanges()}}return a.\u0275fac=function(c){return new(c||a)(e.LFG(u.KQ),e.LFG(p.e))},a.\u0275prov=e.Yz7({token:a,factory:a.\u0275fac,providedIn:"root"}),a})()}}]);