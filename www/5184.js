"use strict";(self.webpackChunkapp=self.webpackChunkapp||[]).push([[5184,2522,7628,8006],{2522:(y,M,r)=>{r.d(M,{v:()=>s});var p=r(5e3),m=r(9928);let s=(()=>{class d{constructor(){this.step=1,this.percent=0}ngOnInit(){console.log("Stepper ng oninit"),localStorage.getItem("step")&&(this.step=Number(localStorage.getItem("step")),this.percent=Number(this.step/8))}}return d.\u0275fac=function(e){return new(e||d)},d.\u0275cmp=p.Xpm({type:d,selectors:[["app-stepper"]],decls:1,vars:1,consts:[[2,"height","5px","--background","transparent","min-width","100%",3,"value"]],template:function(e,f){1&e&&p._UZ(0,"ion-progress-bar",0),2&e&&p.Q6J("value",f.percent)},dependencies:[m.X7],styles:[".stepper[_ngcontent-%COMP%]{margin:0;padding:30px 0 0;list-style:none;color:#dbdbdb;display:table;table-layout:fixed;width:100%;font-size:.8em}.stepper[_ngcontent-%COMP%] > li[_ngcontent-%COMP%]{display:table-cell;text-align:center;position:relative}.step-icon[_ngcontent-%COMP%]{background-color:#dce1f2!important;border-radius:50%;height:20px;width:20px;text-align:center;flex-shrink:0;position:relative;font-weight:500;color:#49158c;margin:0 auto}.step-icon-active[_ngcontent-%COMP%]{background-color:#49158c!important;color:#fff!important}.step-icon-content[_ngcontent-%COMP%]{position:absolute;top:50%;left:50%;transform:translate(-50%,-50%)}.step-horizontal-line[_ngcontent-%COMP%]{border-top-width:1px;border-top-style:solid;flex:auto;height:0;margin-bottom:10px;min-width:30px;border-top-color:#0000001f}"]}),d})()},5184:(y,M,r)=>{r.r(M),r.d(M,{SelectTimePageModule:()=>I});var p=r(9808),m=r(4182),s=r(9928),d=r(3769),h=r(655),e=r(5e3),f=r(1335),P=r(1892),x=r(7556),v=r(2522);function b(a,l){if(1&a&&(e.TgZ(0,"ion-select-option",28),e._uU(1),e.qZA()),2&a){const t=l.$implicit;e.s9C("value",t),e.xp6(1),e.hij(" ",t," ")}}function T(a,l){if(1&a){const t=e.EpF();e.TgZ(0,"ion-select",26),e.NdJ("ngModelChange",function(o){e.CHM(t);const n=e.oxw(2);return e.KtG(n.hour=o)}),e.TgZ(1,"ion-select-option",27),e._uU(2," Seleccione una hora "),e.qZA(),e.TgZ(3,"ion-select-option",28),e._uU(4),e.qZA(),e.YNc(5,b,2,2,"ion-select-option",18),e.qZA()}if(2&a){const t=e.oxw(2);e.Q6J("ngModel",t.hour),e.xp6(3),e.MGl("value","Inmediato ",t.currentH,""),e.xp6(1),e.hij(" Inmediato ",t.currentH," "),e.xp6(1),e.Q6J("ngForOf",t.hour_array)}}function A(a,l){if(1&a&&(e.TgZ(0,"ion-select-option",28),e._uU(1),e.qZA()),2&a){const t=l.$implicit;e.s9C("value",t),e.xp6(1),e.hij(" ",t," ")}}function S(a,l){if(1&a){const t=e.EpF();e.TgZ(0,"ion-select",26),e.NdJ("ngModelChange",function(o){e.CHM(t);const n=e.oxw(2);return e.KtG(n.hour=o)}),e.TgZ(1,"ion-select-option",27),e._uU(2," Seleccione una hora "),e.qZA(),e.YNc(3,A,2,2,"ion-select-option",18),e.qZA()}if(2&a){const t=e.oxw(2);e.Q6J("ngModel",t.hour),e.xp6(3),e.Q6J("ngForOf",t.hour_arrayN)}}function C(a,l){if(1&a){const t=e.EpF();e.TgZ(0,"ion-select",29),e.NdJ("ngModelChange",function(o){e.CHM(t);const n=e.oxw(2);return e.KtG(n.hour=o)}),e.TgZ(1,"ion-select-option",27),e._uU(2," Seleccione una fecha valida "),e.qZA()()}if(2&a){const t=e.oxw(2);e.Q6J("ngModel",t.hour)}}function Z(a,l){if(1&a&&(e.TgZ(0,"ion-item",7),e.YNc(1,T,6,4,"ion-select",24),e.YNc(2,S,4,2,"ion-select",24),e.YNc(3,C,3,1,"ion-select",25),e.qZA()),2&a){const t=e.oxw();e.xp6(1),e.Q6J("ngIf",0==t.value),e.xp6(1),e.Q6J("ngIf",1==t.value),e.xp6(1),e.Q6J("ngIf",2==t.value)}}function q(a,l){if(1&a&&(e.TgZ(0,"ion-select-option",28),e._uU(1),e.qZA()),2&a){const t=l.$implicit;e.s9C("value",t.id),e.xp6(1),e.Oqu(t.name)}}const N=[{path:"",component:(()=>{class a{constructor(t,i,o,n){this.request=t,this.ui=i,this.router=o,this.auth=n,this.hour_values=[],this.date="",this.loading=!1,this.quotation={},this.hour="",this.value=0,this.accessory_array=[],this.min_date=(new Date).toDateString(),this.hour_arrayN=["07:00 AM - 07:30 AM","07:30 AM - 08:00 AM","08:00 AM - 08:30 AM","08:30 AM - 09:00 AM","09:00 AM - 09:30 AM","09:30 AM - 10:00 AM","10:00 AM - 10:30 AM","10:30 AM - 11:00 AM","11:00 AM - 11:30 AM","11:30 AM - 12:00 PM","12:00 PM - 12:30 PM","12:30 PM - 1:00 PM","1:00 PM - 1:30 PM","1:30 PM - 2:00 PM","2:00 PM - 2:30 PM","2:30 PM - 3:00 PM","3:00 PM - 3:30 PM","3:30 PM - 4:00 PM","4:00 PM - 4:30 PM","4:30 PM - 5:00 PM","5:00 PM - 5:30 PM","5:30 PM - 6:00 PM","6:00 PM - 6:30 PM","6:30 PM - 7:00 PM","7:00 PM - 7:30 PM","7:30 PM - 8:00 PM","8:00 PM - 8:30 PM","8:30 PM - 9:00 PM","9:00 PM - 9:30 PM","9:30 PM - 10:00 PM","10:00 PM - 10:30 PM","10:30 PM - 11:00 PM","11:00 PM - 11:30 PM","11:30 PM - 12:00 AM"],this.accesory={name:"Maleta de alimentos"},this.hour_array=[]}ngOnInit(){localStorage.setItem("step","6")}dateHour(){const t=new Date;let i=t.getMinutes(),o=t.getHours();for(;o<23;)this.getHour(o,i),i>30?(o++,i-=30):i+=30}getCurrentHour(){const t=new Date;let n,i=t.getHours().toString(),o=t.getMinutes().toString();Number(i)>=12?(i=Number(i)-12+"",n="PM"):n="AM",0==Number(i)&&(i=String(12)),i=Number(i)<10?"0"+i:i,o=Number(o)<10?"0"+o:o,this.currentH=i+":"+o+" "+n}getHour(t,i){let o=t,n=i,g="",_="";n>30?(o+=1,n="0"):n="30";let c=o,u=String(Number(n)+30);Number(u)>30?(c++,u="0"):u="30",o>=12?(o-=12,g="PM"):g="AM",0==o&&(o=12),c>=12?(c-=12,_="PM"):_="AM",0==c&&(c=12),o=o<10?"0"+o:o,n=n<10?"0"+n:n,c=c<10?"0"+c:c,u=Number(u)<10?"0"+u:u,this.hour_array.push(o+":"+n+" "+g+" - "+c+" : "+u+" "+_)}hideCart(){this.auth.person.hide_cart=!0,this.auth.setPerson(this.auth.person)}ionViewWillEnter(){return(0,h.mG)(this,void 0,void 0,function*(){if(this.hideCart(),this.min_date=this.dateFormat(new Date),this.interval&&clearInterval(this.interval),this.interval=setInterval(t=>{this.getCurrentHour()},6e4),this.month_names=["Enero","Febrero","Marzo","Abril","Mayo","Junio","Julio","Agosto","Septiembre","Octubre","Noviembre","Diciembre"].join(","),localStorage.setItem("step","6"),localStorage.getItem("quotation")){this.quotation=JSON.parse(localStorage.getItem("quotation")),this.transport_type=JSON.parse(localStorage.getItem("quotation")).transport_type,this.date=this.dateFormat(new Date),this.dateHour(),this.getCurrentHour();const t=yield this.ui.loading("Por favor espere...");this.request.get("list/attributes?parameter_id=3").subscribe(i=>(0,h.mG)(this,void 0,void 0,function*(){(yield t).dismiss(),"Carry"!=this.transport_type?(this.accessory_array=i.data,this.accesory=this.accessory_array.find(o=>o.id==this.quotation.accessory_id)):(this.loading=!1,this.quotation.accessory_id="7",this.accessory_array=i.data.filter(o=>7==o.id),this.accesory=this.accessory_array[0])}),i=>(0,h.mG)(this,void 0,void 0,function*(){(yield t).dismiss(),yield this.ui.presentAlert({mode:"ios",header:"No se ha podido mostrar la informaci\xf3n",buttons:[{text:"Aceptar",role:"cancel",cssClass:"secondary",handler:o=>{this.navigate()}}]})}))}})}navigate(){this.router.navigate(3!=this.quotation.service_type_id?["/tabs/trip"]:["/tabs/drivers"])}changeAccesory(){console.log("ddjdj",this.quotation.accessory_id),console.log("accesorys",this.accessory_array),this.accesory=this.accessory_array.find(t=>t.id==this.quotation.accessory_id)}next(){return(0,h.mG)(this,void 0,void 0,function*(){if(""==this.hour&&3!=this.quotation.service_type_id||""==this.quotation.cargo_price)""==this.hour&&(yield this.ui.presentAlert({mode:"ios",header:"Debe seleccionar la hora",buttons:[{text:"Aceptar",role:"cancel",cssClass:"secondary",handler:t=>{}}]})),""==this.quotation.cargo_price&&(yield this.ui.presentAlert({mode:"ios",header:"Debe ecribir el valor declarado",buttons:[{text:"Aceptar",role:"cancel",cssClass:"secondary",handler:t=>{}}]}));else{this.quotation.hour=this.hour;let t=this.date.split("-");t[2]=t[2][0]+t[2][1],t.length>3&&(t=t.filter((g,_)=>_<t.length-1)),console.log("F",t);const i=t.join("-");console.log("Date",i),this.quotation.date=i;let o=this.accessory_array.find(g=>g.id==this.quotation.accessory_id);this.quotation.zapp_tool=o.name,localStorage.setItem("quotation",JSON.stringify(this.quotation)),this.router.navigate([3==this.quotation.service_type_id?"/tabs/time-summary":"/tabs/summary"])}})}onlyNumber(t){for(var i="",n=0;n<t.length;n++)-1!="1234567890".indexOf(t.charAt(n))&&(i+=t.charAt(n));this.quotation.cargo_price=i}dateFormat(t){let i=new Date(t),o=""+(i.getMonth()+1),n=""+i.getDate(),g=i.getFullYear();return o.length<2&&(o="0"+o),n.length<2&&(n="0"+n),[g,o,n].join("-")}capture(t){const i=new Date;let o=this.dateFormat(i),n=this.date;console.log("fecha de hoy",o),console.log("fecha seleccionada",n),n>o?(console.log("fecha es mayor"),this.value=1):n==o?(console.log("fecha es igual"),this.value=0):n<o&&(console.log("fecha es menor"),this.value=2)}}return a.\u0275fac=function(t){return new(t||a)(e.Y36(f.s),e.Y36(P.F),e.Y36(d.F0),e.Y36(x.e))},a.\u0275cmp=e.Xpm({type:a,selectors:[["app-select-time"]],decls:49,vars:7,consts:[[2,"margin-top","3px"],[1,"father-container"],[1,"son-container"],[1,"row","justify-content-center"],[1,"col-md-11","col-lg-10","col-xl-8"],[1,"page-title",2,"margin","auto","text-align","center","padding","10px"],[2,"font-size","12px","color","gray","text-align","center"],["lines","none",1,"col-sm-12",2,"display","block","width","80%"],["displayFormat","MMMM DD, YYYY","doneText","Escoger","cancelText","Cancelar","placeholder","Seleccionar fecha",2,"border","2px solid rgba(196, 255, 18, 1)","width","100%","text-align","left","padding","10px","border-radius","20px",3,"ngModel","ngModelChange"],["lines","none","class","col-sm-12","style","display: block;\n            width: 80%;",4,"ngIf"],[1,""],[2,"color","gray","text-align","center","font-size","0.8em"],["lines","none",2,"width","80%","display","block"],["matInput","","maxlength","8","id","price","maxlength","8",2,"border","2px solid rgba(196, 255, 18, 1)","padding","7px !important","border-radius","20px","width","100%","display","block","text-align","center","outline","none",3,"ngModel","ngModelChange","keyup"],["price",""],[2,"font-size","12px","color","gray","text-align","center","margin","auto","width","100%"],[2,"color","gray","/* text-align","center","*/\n            width","100%","font-size","0.8em"],["placeholder","Select One","mode","ios",2,"border","2px solid rgba(196, 255, 18, 1)","width","100%","text-align","left","padding","7px !important","max-width","100%","border-radius","20px",3,"ngModel","selectedText","ngModelChange"],[3,"value",4,"ngFor","ngForOf"],[1,"col-md-11","col-lg-10","col-xl-8","m-auto",2,"margin","auto"],["mode","ios",3,"click"],["slot","start","name","chevron-back-outline"],["name","arrow-left"],["slot","end","name","chevron-forward-outline"],["style","border: 2px solid rgba(196, 255, 18, 1);\n            width: 100%;\n            text-align: left;\n            max-width: 100%;\n            padding: 10px;\n            border-radius: 20px;\n          ","mode","ios",3,"ngModel","ngModelChange",4,"ngIf"],["style","border: 2px solid rgba(196, 255, 18, 1);\n            width: 100%;\n            max-width: 100%;\n            text-align: left;\n            padding: 10px;\n            border-radius: 20px;\n          ","mode","ios",3,"ngModel","ngModelChange",4,"ngIf"],["mode","ios",2,"border","2px solid rgba(196, 255, 18, 1)","width","100%","text-align","left","max-width","100%","padding","10px","border-radius","20px",3,"ngModel","ngModelChange"],["value",""],[3,"value"],["mode","ios",2,"border","2px solid rgba(196, 255, 18, 1)","width","100%","max-width","100%","text-align","left","padding","10px","border-radius","20px",3,"ngModel","ngModelChange"]],template:function(t,i){if(1&t&&(e.TgZ(0,"div",0),e._UZ(1,"app-stepper"),e.qZA(),e.TgZ(2,"ion-content")(3,"div",1)(4,"div",2)(5,"div",3)(6,"div",4)(7,"span",5),e._uU(8,"Informaci\xf3n adicional"),e.qZA(),e.TgZ(9,"p",6),e._uU(10," Selecciona el d\xeda y la hora "),e._UZ(11,"br"),e._uU(12," del servicio "),e.qZA()(),e.TgZ(13,"div",4)(14,"div",3)(15,"ion-item",7)(16,"ion-datetime",8),e.NdJ("ngModelChange",function(n){return i.date=n})("ngModelChange",function(n){return i.capture(n)}),e.qZA()(),e.YNc(17,Z,4,3,"ion-item",9),e.qZA(),e._UZ(18,"br"),e.TgZ(19,"div",10)(20,"span",5),e._uU(21,"\xa1Ya casi terminamos!"),e.qZA()(),e.TgZ(22,"div",3)(23,"h6",11)(24,"strong"),e._uU(25,"\xbfCu\xe1l es el valor declarado de tu mercanc\xeda?"),e.qZA()(),e.TgZ(26,"ion-item",12)(27,"ion-input",13,14),e.NdJ("ngModelChange",function(n){return i.quotation.cargo_price=n})("keyup",function(n){return i.onlyNumber(n.target.value)}),e.qZA()(),e._UZ(29,"br")(30,"br"),e.TgZ(31,"p",15),e._uU(32),e.qZA(),e.TgZ(33,"h6",16)(34,"strong"),e._uU(35,"Accesorio"),e.qZA()(),e._UZ(36,"br"),e.TgZ(37,"ion-item",12)(38,"ion-select",17),e.NdJ("ngModelChange",function(n){return i.quotation.accessory_id=n})("ngModelChange",function(){return i.changeAccesory()}),e.YNc(39,q,2,2,"ion-select-option",18),e.qZA()(),e._UZ(40,"br"),e.qZA()()()()()(),e.TgZ(41,"div",19)(42,"ion-button",20),e.NdJ("click",function(){return i.navigate()}),e._UZ(43,"ion-icon",21)(44,"ion-icon",22),e._uU(45," Atr\xe1s "),e.qZA(),e.TgZ(46,"ion-button",20),e.NdJ("click",function(){return i.next()}),e._UZ(47,"ion-icon",23),e._uU(48," Siguiente "),e.qZA()()),2&t){const o=e.MAs(28);e.xp6(16),e.Q6J("ngModel",i.date),e.xp6(1),e.Q6J("ngIf",3!=i.quotation.service_type_id),e.xp6(10),e.Q6J("ngModel",i.quotation.cargo_price),e.xp6(5),e.hij(" ",o.value.toString().length," / 8 "),e.xp6(6),e.Q6J("ngModel",i.quotation.accessory_id)("selectedText",i.accesory.name),e.xp6(1),e.Q6J("ngForOf",i.accessory_array)}},dependencies:[p.sg,p.O5,m.JJ,m.nD,m.On,s.YG,s.W2,s.x4,s.gu,s.pK,s.Ie,s.t9,s.n0,s.QI,s.j9,v.v],styles:['#price[_ngcontent-%COMP%]:before{content:"$";position:absolute;top:27%;margin-right:30px}']}),a})()}];let w=(()=>{class a{}return a.\u0275fac=function(t){return new(t||a)},a.\u0275mod=e.oAB({type:a}),a.\u0275inj=e.cJS({imports:[d.Bz.forChild(N),d.Bz]}),a})();var J=r(8412);let I=(()=>{class a{}return a.\u0275fac=function(t){return new(t||a)},a.\u0275mod=e.oAB({type:a}),a.\u0275inj=e.cJS({imports:[p.ez,m.u5,s.Pc,J.j,w]}),a})()}}]);