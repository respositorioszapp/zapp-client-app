"use strict";(self.webpackChunkapp=self.webpackChunkapp||[]).push([[3928],{3928:(A,g,a)=>{a.r(g),a.d(g,{ChangePasswordPageModule:()=>J});var p=a(9808),i=a(4182),r=a(9928),u=a(3769),m=a(655),f=a(7125),o=a(5e3),h=a(1335),w=a(1892),P=a(7556);function _(e,t){1&e&&(o.TgZ(0,"ion-label"),o._uU(1,"La contrase\xf1a es requerida"),o.qZA())}function v(e,t){1&e&&(o.TgZ(0,"ion-label"),o._uU(1,"La contrase\xf1a debe ser de 8 a 16 caracteres"),o.qZA())}function C(e,t){if(1&e&&(o.TgZ(0,"ion-item",11),o._UZ(1,"ion-icon",12),o.YNc(2,_,2,0,"ion-label",13),o.YNc(3,v,2,0,"ion-label",13),o.qZA()),2&e){const s=o.oxw();o.xp6(2),o.Q6J("ngIf",s.controls.password.errors.required),o.xp6(1),o.Q6J("ngIf",s.controls.password.errors.minlength||s.controls.password.errors.maxlength)}}function Z(e,t){1&e&&(o.TgZ(0,"ion-label"),o._uU(1,"La contrase\xf1a es requerida"),o.qZA())}function T(e,t){1&e&&(o.TgZ(0,"ion-label"),o._uU(1,"Las contrase\xf1as no coinciden"),o.qZA())}function b(e,t){if(1&e&&(o.TgZ(0,"ion-item",11),o._UZ(1,"ion-icon",12),o.YNc(2,Z,2,0,"ion-label",13),o.YNc(3,T,2,0,"ion-label",13),o.qZA()),2&e){const s=o.oxw();o.xp6(2),o.Q6J("ngIf",s.controls.password_confirm.errors.required),o.xp6(1),o.Q6J("ngIf",s.controls.password_confirm.errors.mustMatch)}}const y=[{path:"",component:(()=>{class e{constructor(s,n,l,d,c){this.requestService=s,this.fb=n,this.router=l,this.ui=d,this.auth=c,this.password_information=this.fb.group({password:["",[i.kI.required,i.kI.minLength(8),i.kI.maxLength(16)]],password_confirm:["",i.kI.required]},{validators:(0,f.G)("password","password_confirm")}),this.view=!1,this.view_confirm=!1}ngOnInit(){}back(){this.router.navigate(["/tabs/profile"])}get controls(){return this.password_information.controls}update(){return(0,m.mG)(this,void 0,void 0,function*(){if(this.password_information.valid){const{password:s,password_confirm:n}=this.password_information.value,l={password:s,password_confirm:n,role_id:this.auth.role.id,user_id:this.auth.user.id},d=yield this.ui.loading("Por favor espere...");this.requestService.post("changepassword",l).subscribe(c=>(0,m.mG)(this,void 0,void 0,function*(){(yield d).dismiss(),this.ui.showToast("Se ha cambiado la contrase\xf1a exitosamente",()=>{this.router.navigate(["/tabs/profile"])})}),c=>(0,m.mG)(this,void 0,void 0,function*(){(yield d).dismiss(),console.log("Error",c),this.ui.showToast(c.errors.messages[0])}))}else this.ui.showToast("Rellene todos los campos")})}setView(){this.view=!this.view}setViewConfirm(){this.view_confirm=!this.view_confirm}}return e.\u0275fac=function(s){return new(s||e)(o.Y36(h.s),o.Y36(i.qu),o.Y36(u.F0),o.Y36(w.F),o.Y36(P.e))},e.\u0275cmp=o.Xpm({type:e,selectors:[["app-change-password"]],decls:18,vars:7,consts:[[1,"gray-background"],["mode","ios",2,"margin-top","30%"],[1,"ion-text-center"],[1,"black-color-text"],["novalidate","",3,"formGroup","submit"],["lines","none",1,"input-text","ion-margin-top"],["placeholder","Contrase\xf1a","formControlName","password","required","",3,"type"],["slot","end",3,"name","click"],["lines","none","class","danger-color-text",4,"ngIf"],["placeholder","Repetir Contrase\xf1a","formControlName","password_confirm","required","",3,"type"],["type","submit","expand","block","mode","ios","color","primary",1,"ion-margin-top"],["lines","none",1,"danger-color-text"],["name","alert-circle","slot","start",1,"danger-color-text"],[4,"ngIf"]],template:function(s,n){1&s&&(o.TgZ(0,"ion-content",0)(1,"ion-card",1)(2,"ion-card-header")(3,"ion-card-subtitle",2)(4,"span",3),o._uU(5,"Cambia tu contrase\xf1a"),o.qZA()()(),o.TgZ(6,"ion-card-content")(7,"form",4),o.NdJ("submit",function(){return n.update()}),o.TgZ(8,"ion-item",5),o._UZ(9,"ion-input",6),o.TgZ(10,"ion-icon",7),o.NdJ("click",function(){return n.setView()}),o.qZA()(),o.YNc(11,C,4,2,"ion-item",8),o.TgZ(12,"ion-item",5),o._UZ(13,"ion-input",9),o.TgZ(14,"ion-icon",7),o.NdJ("click",function(){return n.setViewConfirm()}),o.qZA()(),o.YNc(15,b,4,2,"ion-item",8),o.TgZ(16,"ion-button",10),o._uU(17," ACTUALIZAR "),o.qZA()()()()()),2&s&&(o.xp6(7),o.Q6J("formGroup",n.password_information),o.xp6(2),o.Q6J("type",n.view?"text":"password"),o.xp6(1),o.Q6J("name",n.view?"eye-outline":"eye-off-outline"),o.xp6(1),o.Q6J("ngIf",n.controls.password.dirty&&n.controls.password.touched&&n.controls.password.errors),o.xp6(2),o.Q6J("type",n.view_confirm?"text":"password"),o.xp6(1),o.Q6J("name",n.view_confirm?"eye-outline":"eye-off-outline"),o.xp6(1),o.Q6J("ngIf",n.controls.password_confirm.dirty&&n.controls.password_confirm.touched&&n.controls.password_confirm.errors))},dependencies:[p.O5,i._Y,i.JJ,i.JL,i.Q7,r.YG,r.PM,r.FN,r.Zi,r.tO,r.W2,r.gu,r.pK,r.Ie,r.Q$,r.j9,i.sg,i.u]}),e})()}];let x=(()=>{class e{}return e.\u0275fac=function(s){return new(s||e)},e.\u0275mod=o.oAB({type:e}),e.\u0275inj=o.cJS({imports:[u.Bz.forChild(y),u.Bz]}),e})(),J=(()=>{class e{}return e.\u0275fac=function(s){return new(s||e)},e.\u0275mod=o.oAB({type:e}),e.\u0275inj=o.cJS({imports:[p.ez,i.u5,r.Pc,i.UX,x]}),e})()}}]);